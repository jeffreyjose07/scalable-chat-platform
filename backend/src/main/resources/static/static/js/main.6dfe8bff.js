/*! For license information please see main.6dfe8bff.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:i.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!C.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:S.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,w(s)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),P(s,t,a,"",function(e){return e})):null!=s&&(j(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+T(i=e[u],u);l+=P(i,t,a,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=P(i=i.value,t,a,c=o+T(i,u++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},L={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!C.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],u=i+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[i]=n,r=i);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,L(k);else{var t=r(c);null!==t&&M(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(j),j=-1),p=!0;var o=h;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!P());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var i=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?f.callback=i:f===r(u)&&a(u),x(n)}else a(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,N=null,j=-1,E=5,T=-1;function P(){return!(t.unstable_now()-T<E)}function _(){if(null!==N){var e=t.unstable_now();T=e;var n=!0;try{n=N(!0,e)}finally{n?S():(C=!1,N=null)}}else C=!1}if("function"===typeof b)S=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=_,S=function(){O.postMessage(null)}}else S=function(){v(_,0)};function L(e){N=e,C||(C=!0,S())}function M(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(j),j=-1):g=!0,M(w,o-s))):(e.sortIndex=i,n(u,e),m||p||(m=!0,L(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var A,U=Object.assign;function I(e){if(void 0===A)try{throw Error()}catch(jt){var t=jt.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(kt){var r=kt}Reflect.construct(e,[],t)}else{try{t.call()}catch(kt){r=kt}e.call(t.prototype)}else{try{throw Error()}catch(kt){r=kt}e()}}catch(kt){if(kt&&r&&"string"===typeof kt.stack){for(var a=kt.stack.split("\n"),o=r.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function B(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return $(e(t))}catch(jt){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ce(e){if(e=Ta(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=_a(t),we(e.stateNode,e.type,t))}}function Ne(e){ke?Se?Se.push(e):Se=[e]:ke=e}function je(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Pe=!1;function _e(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==ke||null!==Se)&&(Te(),je())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(St){Oe=!1}function Me(e,t,n,r,a,o,s,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Ae=null,Ue=!1,Ie=null,Fe={onError:function(e){De=!0,Ae=e}};function ze(e,t,n,r,a,o,s,i,l){De=!1,Ae=null,Me.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return We(a),e;if(s===r)return We(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ve=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,Ze=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/it|0)|0},st=Math.log,it=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~a;0!==i?r=ct(i):0!==(o&=s)&&(r=ct(o))}else 0!==(s=n&~a)?r=ct(s):0!==o&&(r=ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,Nt,Et,Tt,Pt,Ot=!1,Mt=[],Dt=null,Ut=null,It=null,Ft=new Map,zt=new Map,Bt=[],$t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function qt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Ta(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ht(e){var t=Ea(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Pt(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=an(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ta(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Gt(e,t,n){Vt(e)&&n.delete(t)}function Kt(){Ot=!1,null!==Dt&&Vt(Dt)&&(Dt=null),null!==Ut&&Vt(Ut)&&(Ut=null),null!==It&&Vt(It)&&(It=null),Ft.forEach(Gt),zt.forEach(Gt)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Kt)))}function Yt(e){function t(t){return Qt(t,e)}if(0<Mt.length){Qt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Qt(Dt,e),null!==Ut&&Qt(Ut,e),null!==It&&Qt(It,e),Ft.forEach(t),zt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Ht(n),null===n.blockedOn&&Bt.shift()}var Jt=x.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var a=yt,o=Jt.transition;Jt.transition=null;try{yt=1,nn(e,t,n,r)}finally{yt=a,Jt.transition=o}}function tn(e,t,n,r){var a=yt,o=Jt.transition;Jt.transition=null;try{yt=4,nn(e,t,n,r)}finally{yt=a,Jt.transition=o}}function nn(e,t,n,r){if(Zt){var a=an(e,t,n,r);if(null===a)Zr(e,t,r,rn,n),Wt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Dt=qt(Dt,e,t,n,r,a),!0;case"dragenter":return Ut=qt(Ut,e,t,n,r,a),!0;case"mouseover":return It=qt(It,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ft.set(o,qt(Ft.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,zt.set(o,qt(zt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<$t.indexOf(e)){for(;null!==a;){var o=Ta(a);if(null!==o&&Ct(o),null===(o=an(e,t,n,r))&&Zr(e,t,r,rn,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function an(e,t,n,r){if(rn=null,null!==(e=Ea(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function on(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var sn=null,ln=null,un=null;function cn(){if(un)return un;var e,t,n=ln,r=n.length,a="value"in sn?sn.value:sn.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return un=a.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function fn(){return!0}function hn(){return!1}function pn(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?fn:hn,this.isPropagationStopped=hn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=fn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=fn)},persist:function(){},isPersistent:fn}),t}var mn,gn,vn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(yn),xn=U({},yn,{view:0,detail:0}),wn=pn(xn),kn=U({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vn&&(vn&&"mousemove"===e.type?(mn=e.screenX-vn.screenX,gn=e.screenY-vn.screenY):gn=mn=0,vn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Sn=pn(kn),Cn=pn(U({},kn,{dataTransfer:0})),Nn=pn(U({},xn,{relatedTarget:0})),jn=pn(U({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=U({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tn=pn(En),Pn=pn(U({},yn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ln(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function Mn(){return Ln}var Dn=U({},xn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=pn(Dn),Un=pn(U({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=pn(U({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Fn=pn(U({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=U({},kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=pn(zn),$n=[9,13,27,32],Wn=c&&"CompositionEvent"in window,qn=null;c&&"documentMode"in document&&(qn=document.documentMode);var Hn=c&&"TextEvent"in window&&!qn,Vn=c&&(!Wn||qn&&8<qn&&11>=qn),Gn=String.fromCharCode(32),Kn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Jn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Ne(r),0<(t=ta(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ar(e){if(G(Pa(e)))return e}function or(e,t){if("change"===e)return t}var sr=!1;if(c){var ir;if(c){var lr="oninput"in document;if(!lr){var ur=document.createElement("div");ur.setAttribute("oninput","return;"),lr="function"===typeof ur.oninput}ir=lr}else ir=!1;sr=ir&&(!document.documentMode||9<document.documentMode)}function cr(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&ar(nr)){var t=[];er(t,nr,e,xe(e)),_e(rr,t)}}function fr(e,t,n){"focusin"===e?(cr(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&cr()}function hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ar(nr)}function pr(e,t){if("click"===e)return ar(t)}function mr(e,t){if("input"===e||"change"===e)return ar(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function vr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!gr(e[a],t[a]))return!1}return!0}function yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=yr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yr(r)}}function xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(_t){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sr(e){var t=wr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xr(n.ownerDocument.documentElement,n)){if(null!==r&&kr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=br(n,o);var s=br(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cr=c&&"documentMode"in document&&11>=document.documentMode,Nr=null,jr=null,Er=null,Tr=!1;function Pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Tr||null==Nr||Nr!==K(r)||("selectionStart"in(r=Nr)&&kr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&vr(Er,r)||(Er=r,0<(r=ta(jr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Or={},Lr={};function Mr(e){if(Or[e])return Or[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Lr)return Or[e]=n[t];return e}c&&(Lr=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Dr=Mr("animationend"),Ar=Mr("animationiteration"),Ur=Mr("animationstart"),Ir=Mr("transitionend"),Fr=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Fr.set(e,t),l(t,[e])}for(var $r=0;$r<zr.length;$r++){var Wr=zr[$r];Br(Wr.toLowerCase(),"on"+(Wr[0].toUpperCase()+Wr.slice(1)))}Br(Dr,"onAnimationEnd"),Br(Ar,"onAnimationIteration"),Br(Ur,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Vr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,l,u){if(ze.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Ae;De=!1,Ae=null,Ue||(Ue=!0,Ie=c)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Vr(a,i,u),o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Vr(a,i,u),o=l}}}if(Ue)throw e=Ie,Ue=!1,Ie=null,e}function Kr(e,t){var n=t[Ca];void 0===n&&(n=t[Ca]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[Yr]){e[Yr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Hr.has(t)||Qr(t,!1,e),Qr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yr]||(t[Yr]=!0,Qr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(on(t)){case 1:var a=en;break;case 4:a=tn;break;default:a=nn}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=Ea(i)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}i=i.parentNode}}r=r.return}_e(function(){var r=o,a=xe(n),s=[];e:{var i=Fr.get(e);if(void 0!==i){var l=bn,u=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=Nn;break;case"focusout":u="blur",l=Nn;break;case"beforeblur":case"afterblur":l=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Dr:case Ar:case Ur:l=jn;break;case Ir:l=Fn;break;case"scroll":l=wn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Un}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==i?i+"Capture":null:i;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Re(p,f))&&c.push(ea(p,m,h)))),d)break;p=p.return}0<c.length&&(i=new l(i,u,null,n,a),s.push({event:i,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!Ea(u)&&!u[Sa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ea(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Sn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Un,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?i:Pa(l),h=null==u?i:Pa(u),(i=new c(m,p+"leave",l,n,a)).target=d,i.relatedTarget=h,m=null,Ea(a)===r&&((c=new c(f,p+"enter",u,n,a)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=na(h))p++;for(h=0,m=f;m;m=na(m))h++;for(;0<p-h;)c=na(c),p--;for(;0<h-p;)f=na(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=na(c),f=na(f)}c=null}else c=null;null!==l&&ra(s,i,l,c,!1),null!==u&&null!==d&&ra(s,d,u,c,!0)}if("select"===(l=(i=r?Pa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=or;else if(Zn(i))if(sr)g=mr;else{g=hr;var v=fr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=pr);switch(g&&(g=g(e,r))?er(s,g,n,a):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=r?Pa(r):window,e){case"focusin":(Zn(v)||"true"===v.contentEditable)&&(Nr=v,jr=r,Er=null);break;case"focusout":Er=jr=Nr=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,Pr(s,n,a);break;case"selectionchange":if(Cr)break;case"keydown":case"keyup":Pr(s,n,a)}var y;if(Wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jn?Qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Jn&&(y=cn()):(ln="value"in(sn=a)?sn.value:sn.textContent,Jn=!0)),0<(v=ta(r,b)).length&&(b=new Pn(b,e,null,n,a),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Yn(n))&&(b.data=y))),(y=Hn?function(e,t){switch(e){case"compositionend":return Yn(t);case"keypress":return 32!==t.which?null:(Kn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Jn)return"compositionend"===e||!Wn&&Qn(e,t)?(e=cn(),un=ln=sn=null,Jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ta(r,"onBeforeInput")).length&&(a=new Pn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=y))}Gr(s,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Re(e,n))&&r.unshift(ea(e,o,a)),null!=(o=Re(e,t))&&r.push(ea(e,o,a))),e=e.return}return r}function na(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ra(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==u&&(i=u,a?null!=(l=Re(n,o))&&s.unshift(ea(n,l,i)):a||null!=(l=Re(n,o))&&s.push(ea(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var aa=/\r\n?/g,oa=/\u0000|\uFFFD/g;function sa(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(oa,"")}function ia(e,t,n){if(t=sa(t),sa(e)!==t&&n)throw Error(o(425))}function la(){}var ua=null,ca=null;function da(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var fa="function"===typeof setTimeout?setTimeout:void 0,ha="function"===typeof clearTimeout?clearTimeout:void 0,pa="function"===typeof Promise?Promise:void 0,ma="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pa?function(e){return pa.resolve(null).then(e).catch(ga)}:fa;function ga(e){setTimeout(function(){throw e})}function va(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Yt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Yt(t)}function ya(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ba(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xa=Math.random().toString(36).slice(2),wa="__reactFiber$"+xa,ka="__reactProps$"+xa,Sa="__reactContainer$"+xa,Ca="__reactEvents$"+xa,Na="__reactListeners$"+xa,ja="__reactHandles$"+xa;function Ea(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sa]||n[wa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ba(e);null!==e;){if(n=e[wa])return n;e=ba(e)}return t}n=(e=n).parentNode}return null}function Ta(e){return!(e=e[wa]||e[Sa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _a(e){return e[ka]||null}var Ra=[],Oa=-1;function La(e){return{current:e}}function Ma(e){0>Oa||(e.current=Ra[Oa],Ra[Oa]=null,Oa--)}function Da(e,t){Oa++,Ra[Oa]=e.current,e.current=t}var Aa={},Ua=La(Aa),Ia=La(!1),Fa=Aa;function za(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ba(e){return null!==(e=e.childContextTypes)&&void 0!==e}function $a(){Ma(Ia),Ma(Ua)}function Wa(e,t,n){if(Ua.current!==Aa)throw Error(o(168));Da(Ua,t),Da(Ia,n)}function qa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return U({},n,r)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,Fa=Ua.current,Da(Ua,e),Da(Ia,Ia.current),!0}function Va(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=qa(e,t,Fa),r.__reactInternalMemoizedMergedChildContext=e,Ma(Ia),Ma(Ua),Da(Ua,e)):Ma(Ia),Da(Ia,n)}var Ga=null,Ka=!1,Qa=!1;function Ya(e){null===Ga?Ga=[e]:Ga.push(e)}function Ja(){if(!Qa&&null!==Ga){Qa=!0;var e=0,t=yt;try{var n=Ga;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ga=null,Ka=!1}catch(xt){throw null!==Ga&&(Ga=Ga.slice(e+1)),Ve(Xe,Ja),xt}finally{yt=t,Qa=!1}}return null}var Xa=[],Za=0,eo=null,to=0,no=[],ro=0,ao=null,oo=1,so="";function io(e,t){Xa[Za++]=to,Xa[Za++]=eo,eo=e,to=t}function lo(e,t,n){no[ro++]=oo,no[ro++]=so,no[ro++]=ao,ao=e;var r=oo;e=so;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var o=32-ot(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,oo=1<<32-ot(t)+a|n<<a|r,so=o+e}else oo=1<<o|n<<a|r,so=e}function uo(e){null!==e.return&&(io(e,1),lo(e,1,0))}function co(e){for(;e===eo;)eo=Xa[--Za],Xa[Za]=null,to=Xa[--Za],Xa[Za]=null;for(;e===ao;)ao=no[--ro],no[ro]=null,so=no[--ro],no[ro]=null,oo=no[--ro],no[ro]=null}var fo=null,ho=null,po=!1,mo=null;function go(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,fo=e,ho=ya(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,fo=e,ho=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ao?{id:oo,overflow:so}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,fo=e,ho=null,!0);default:return!1}}function yo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function bo(e){if(po){var t=ho;if(t){var n=t;if(!vo(e,t)){if(yo(e))throw Error(o(418));t=ya(n.nextSibling);var r=fo;t&&vo(e,t)?go(r,n):(e.flags=-4097&e.flags|2,po=!1,fo=e)}}else{if(yo(e))throw Error(o(418));e.flags=-4097&e.flags|2,po=!1,fo=e}}}function xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fo=e}function wo(e){if(e!==fo)return!1;if(!po)return xo(e),po=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!da(e.type,e.memoizedProps)),t&&(t=ho)){if(yo(e))throw ko(),Error(o(418));for(;t;)go(e,t),t=ya(t.nextSibling)}if(xo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ho=ya(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ho=null}}else ho=fo?ya(e.stateNode.nextSibling):null;return!0}function ko(){for(var e=ho;e;)e=ya(e.nextSibling)}function So(){ho=fo=null,po=!1}function Co(e){null===mo?mo=[e]:mo.push(e)}var No=x.ReactCurrentBatchConfig;function jo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function To(e){return(0,e._init)(e._payload)}function Po(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=$u(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&To(o)===t.type)?((r=a(t,n.props)).ref=jo(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=jo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=qu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=jo(e,null,t),n.return=e,n;case k:return(t=Gu(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=qu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null;case O:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);Eo(t,r)}return null}function m(a,o,i,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===i.length)return n(a,d),po&&io(a,m),u;if(null===d){for(;m<i.length;m++)null!==(d=f(a,i[m],l))&&(o=s(d,o,m),null===c?u=d:c.sibling=d,c=d);return po&&io(a,m),u}for(d=r(a,d);m<i.length;m++)null!==(g=p(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),po&&io(a,m),u}function g(a,i,l,u){var c=D(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),i=s(b,i,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),po&&io(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,u))&&(i=s(y,i,g),null===d?c=y:d.sibling=y,d=y);return po&&io(a,g),c}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=s(y,i,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),po&&io(a,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===S){if(7===c.tag){n(r,c.sibling),(o=a(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&To(u)===c.type){n(r,c.sibling),(o=a(c,s.props)).ref=jo(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===S?((o=qu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Wu(s.type,s.key,s.props,null,r.mode,l)).ref=jo(r,o,s),l.return=r,r=l)}return i(r);case k:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=a(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Gu(s,r.mode,l)).return=r,r=o}return i(r);case O:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(D(s))return g(r,o,s,l);Eo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,s)).return=r,r=o):(n(r,o),(o=Vu(s,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var _o=Po(!0),Ro=Po(!1),Oo=La(null),Lo=null,Mo=null,Do=null;function Ao(){Do=Mo=Lo=null}function Uo(e){var t=Oo.current;Ma(Oo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){Lo=e,Do=Mo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ti=!0),e.firstContext=null)}function zo(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},null===Mo){if(null===Lo)throw Error(o(308));Mo=e,Lo.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var Bo=null;function $o(e){null===Bo?Bo=[e]:Bo.push(e)}function Wo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,$o(t)):(n.next=a.next,a.next=n),t.interleaved=n,qo(e,r)}function qo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ho=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ul)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,qo(e,n)}return null===(a=r.interleaved)?(t.next=t,$o(r)):(t.next=a.next,a.next=t),r.interleaved=t,qo(e,n)}function Yo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var a=e.updateQueue;Ho=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,c=u=l=null,i=o;;){var f=i.lane,h=i.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Ho=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[i]:f.push(i))}else h={eventTime:h,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,s|=f;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(f=i).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Hl|=s,e.lanes=s,e.memoizedState=d}}function Zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var es={},ts=La(es),ns=La(es),rs=La(es);function as(e){if(e===es)throw Error(o(174));return e}function os(e,t){switch(Da(rs,t),Da(ns,e),Da(ts,es),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ma(ts),Da(ts,t)}function ss(){Ma(ts),Ma(ns),Ma(rs)}function is(e){as(rs.current);var t=as(ts.current),n=le(t,e.type);t!==n&&(Da(ns,e),Da(ts,n))}function ls(e){ns.current===e&&(Ma(ts),Ma(ns))}var us=La(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ds=[];function fs(){for(var e=0;e<ds.length;e++)ds[e]._workInProgressVersionPrimary=null;ds.length=0}var hs=x.ReactCurrentDispatcher,ps=x.ReactCurrentBatchConfig,ms=0,gs=null,vs=null,ys=null,bs=!1,xs=!1,ws=0,ks=0;function Ss(){throw Error(o(321))}function Cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function Ns(e,t,n,r,a,s){if(ms=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?li:ui,e=n(r,a),xs){s=0;do{if(xs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=vs=null,t.updateQueue=null,hs.current=ci,e=n(r,a)}while(xs)}if(hs.current=ii,t=null!==vs&&null!==vs.next,ms=0,ys=vs=gs=null,bs=!1,t)throw Error(o(300));return e}function js(){var e=0!==ws;return ws=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?gs.memoizedState=ys=e:ys=ys.next=e,ys}function Ts(){if(null===vs){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ys?gs.memoizedState:ys.next;if(null!==t)ys=t,vs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ys?gs.memoizedState=ys=e:ys=ys.next=e}return ys}function Ps(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=i=null,u=null,c=s;do{var d=c.lane;if((ms&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,i=r):u=u.next=f,gs.lanes|=d,Hl|=d}c=c.next}while(null!==c&&c!==s);null===u?i=r:u.next=l,gr(r,t.memoizedState)||(Ti=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,gs.lanes|=s,Hl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);gr(s,t.memoizedState)||(Ti=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function Ls(e,t){var n=gs,r=Ts(),a=t(),s=!gr(r.memoizedState,a);if(s&&(r.memoizedState=a,Ti=!0),r=r.queue,Hs(As.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,zs(9,Ds.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ms)||Ms(n,t,a)}return a}function Ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Us(t)&&Is(e)}function As(e,t,n){return n(function(){Us(t)&&Is(e)})}function Us(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(_t){return!0}}function Is(e){var t=qo(e,1);null!==t&&du(t,e,1,-1)}function Fs(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=ri.bind(null,gs,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bs(){return Ts().memoizedState}function $s(e,t,n,r){var a=Es();gs.flags|=e,a.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Ws(e,t,n,r){var a=Ts();r=void 0===r?null:r;var o=void 0;if(null!==vs){var s=vs.memoizedState;if(o=s.destroy,null!==r&&Cs(r,s.deps))return void(a.memoizedState=zs(t,n,o,r))}gs.flags|=e,a.memoizedState=zs(1|t,n,o,r)}function qs(e,t){return $s(8390656,8,e,t)}function Hs(e,t){return Ws(2048,8,e,t)}function Vs(e,t){return Ws(4,2,e,t)}function Gs(e,t){return Ws(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4,4,Ks.bind(null,t,e),n)}function Ys(){}function Js(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zs(e,t,n){return 0===(21&ms)?(e.baseState&&(e.baseState=!1,Ti=!0),e.memoizedState=n):(gr(n,t)||(n=pt(),gs.lanes|=n,Hl|=n,e.baseState=!0),t)}function ei(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{yt=n,ps.transition=r}}function ti(){return Ts().memoizedState}function ni(e,t,n){var r=cu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ai(e))oi(t,n);else if(null!==(n=Wo(e,t,n,r))){du(n,e,r,uu()),si(n,t,r)}}function ri(e,t,n){var r=cu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ai(e))oi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,gr(i,s)){var l=t.interleaved;return null===l?(a.next=a,$o(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(kt){}null!==(n=Wo(e,t,a,r))&&(du(n,e,r,a=uu()),si(n,t,r))}}function ai(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function oi(e,t){xs=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function si(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ii={readContext:zo,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},li={readContext:zo,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$s(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){return $s(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ni.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Fs,useDebugValue:Ys,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Fs(!1),t=e[0];return e=ei.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,a=Es();if(po){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ms)||Ms(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,qs(As.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Il.identifierPrefix;if(po){var n=so;t=":"+t+"R"+(n=(oo&~(1<<32-ot(oo)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ks++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ui={readContext:zo,useCallback:Js,useContext:zo,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Xs,useReducer:_s,useRef:Bs,useState:function(){return _s(Ps)},useDebugValue:Ys,useDeferredValue:function(e){return Zs(Ts(),vs.memoizedState,e)},useTransition:function(){return[_s(Ps)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ls,useId:ti,unstable_isNewReconciler:!1},ci={readContext:zo,useCallback:Js,useContext:zo,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Xs,useReducer:Rs,useRef:Bs,useState:function(){return Rs(Ps)},useDebugValue:Ys,useDeferredValue:function(e){var t=Ts();return null===vs?t.memoizedState=e:Zs(t,vs.memoizedState,e)},useTransition:function(){return[Rs(Ps)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ls,useId:ti,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uu(),a=cu(e),o=Ko(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,a))&&(du(t,e,a,r),Yo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uu(),a=cu(e),o=Ko(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,a))&&(du(t,e,a,r),Yo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uu(),r=cu(e),a=Ko(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Qo(e,a,r))&&(du(t,e,r,n),Yo(t,e,r))}};function pi(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!vr(n,r)||!vr(a,o))}function mi(e,t,n){var r=!1,a=Aa,o=t.contextType;return"object"===typeof o&&null!==o?o=zo(o):(a=Ba(t)?Fa:Ua.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?za(e,a):Aa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function vi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=zo(o):(o=Ba(t)?Fa:Ua.current,a.context=za(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fi(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&hi.enqueueReplaceState(a,a.state,null),Xo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function yi(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(Rt){a="\nError generating stack: "+Rt.message+"\n"+Rt.stack}return{value:e,source:t,stack:a,digest:null}}function bi(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function xi(e,t){try{console.error(t.value)}catch(jt){setTimeout(function(){throw jt})}}var wi="function"===typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=Ko(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,eu=r),xi(0,t)},n}function Si(e,t,n){(n=Ko(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){xi(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){xi(0,t),"function"!==typeof r&&(null===tu?tu=new Set([this]):tu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ci(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new wi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Mu.bind(null,e,t,n),t.then(e,e))}function Ni(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ji(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ko(-1,1)).tag=2,Qo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Ei=x.ReactCurrentOwner,Ti=!1;function Pi(e,t,n,r){t.child=null===e?Ro(t,null,n,r):_o(t,e.child,n,r)}function _i(e,t,n,r,a){n=n.render;var o=t.ref;return Fo(t,a),r=Ns(e,t,n,r,o,a),n=js(),null===e||Ti?(po&&n&&uo(t),t.flags|=1,Pi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zi(e,t,a))}function Ri(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Bu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Oi(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:vr)(s,r)&&e.ref===t.ref)return Zi(e,t,a)}return t.flags|=1,(e=$u(o,r)).ref=t.ref,e.return=t,t.child=e}function Oi(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(vr(o,r)&&e.ref===t.ref){if(Ti=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Zi(e,t,a);0!==(131072&e.flags)&&(Ti=!0)}}return Di(e,t,n,r,a)}function Li(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Da($l,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Da($l,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Da($l,Bl),Bl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Da($l,Bl),Bl|=r;return Pi(e,t,a,n),t.child}function Mi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Di(e,t,n,r,a){var o=Ba(n)?Fa:Ua.current;return o=za(t,o),Fo(t,a),n=Ns(e,t,n,r,o,a),r=js(),null===e||Ti?(po&&r&&uo(t),t.flags|=1,Pi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zi(e,t,a))}function Ai(e,t,n,r,a){if(Ba(n)){var o=!0;Ha(t)}else o=!1;if(Fo(t,a),null===t.stateNode)Xi(e,t),mi(t,n,r),vi(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=zo(u):u=za(t,u=Ba(n)?Fa:Ua.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==u)&&gi(t,s,r,u),Ho=!1;var f=t.memoizedState;s.state=f,Xo(t,r,s,a),l=t.memoizedState,i!==r||f!==l||Ia.current||Ho?("function"===typeof c&&(fi(t,n,c,r),l=t.memoizedState),(i=Ho||pi(t,n,i,r,f,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Go(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:di(t.type,i),s.props=u,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=zo(l):l=za(t,l=Ba(n)?Fa:Ua.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||f!==l)&&gi(t,s,r,l),Ho=!1,f=t.memoizedState,s.state=f,Xo(t,r,s,a);var p=t.memoizedState;i!==d||f!==p||Ia.current||Ho?("function"===typeof h&&(fi(t,n,h,r),p=t.memoizedState),(u=Ho||pi(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ui(e,t,n,r,o,a)}function Ui(e,t,n,r,a,o){Mi(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Va(t,n,!1),Zi(e,t,o);r=t.stateNode,Ei.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,i,o)):Pi(e,t,i,o),t.memoizedState=r.state,a&&Va(t,n,!0),t.child}function Ii(e){var t=e.stateNode;t.pendingContext?Wa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Wa(0,t.context,!1),os(e,t.containerInfo)}function Fi(e,t,n,r,a){return So(),Co(a),t.flags|=256,Pi(e,t,n,r),t.child}var zi,Bi,$i,Wi,qi={dehydrated:null,treeContext:null,retryLane:0};function Hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vi(e,t,n){var r,a=t.pendingProps,s=us.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Da(us,1&s),null===e)return bo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Hu(l,a,0,null),e=qu(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hi(n),t.memoizedState=qi,e):Gi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,Ki(e,t,i,r=bi(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Hu({mode:"visible",children:r.children},a,0,null),(s=qu(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,i),t.child.memoizedState=Hi(i),t.memoizedState=qi,s);if(0===(1&t.mode))return Ki(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ki(e,t,i,r=bi(s=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),Ti||l){if(null!==(r=Il)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,qo(e,a),du(r,e,a,-1))}return Cu(),Ki(e,t,i,r=bi(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ho=ya(a.nextSibling),fo=t,po=!0,mo=null,null!==e&&(no[ro++]=oo,no[ro++]=so,no[ro++]=ao,oo=e.id,so=e.overflow,ao=t),t=Gi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(i){i=a.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=$u(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=$u(r,i):(i=qu(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Hi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=qi,a}return e=(i=e.child).sibling,a=$u(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Gi(e,t){return(t=Hu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){return null!==r&&Co(r),_o(t,e.child,null,n),(e=Gi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Yi(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ji(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Pi(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n,t);else if(19===e.tag)Qi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Da(us,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yi(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===cs(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yi(t,!0,n,null,o);break;case"together":Yi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=$u(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$u(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Ba(t.type)&&$a(),tl(t),null;case 3:return r=t.stateNode,ss(),Ma(Ia),Ma(Ua),fs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(wo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==mo&&(mu(mo),mo=null))),Bi(e,t),tl(t),null;case 5:ls(t);var a=as(rs.current);if(n=t.type,null!==e&&null!=t.stateNode)$i(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return tl(t),null}if(e=as(ts.current),wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wa]=t,r[ka]=s,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(a=0;a<qr.length;a++)Kr(qr[a],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":Y(r,s),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kr("invalid",r);break;case"textarea":ae(r,s),Kr("invalid",r)}for(var l in ve(n,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&ia(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&ia(r.textContent,u,e),a=["children",""+u]):i.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Kr("scroll",r)}switch(n){case"input":V(r),Z(r,s,!0);break;case"textarea":V(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=la)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[wa]=t,e[ka]=r,zi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),a=r;break;case"iframe":case"object":case"embed":Kr("load",e),a=r;break;case"video":case"audio":for(a=0;a<qr.length;a++)Kr(qr[a],e);a=r;break;case"source":Kr("error",e),a=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),a=r;break;case"details":Kr("toggle",e),a=r;break;case"input":Y(e,r),a=Q(e,r),Kr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=U({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Kr("invalid",e)}for(s in ve(n,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Kr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)Wi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=as(rs.current),as(ts.current),wo(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(s=r.nodeValue!==n)&&null!==(e=fo))switch(e.tag){case 3:ia(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ia(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wa]=t,t.stateNode=r}return tl(t),null;case 13:if(Ma(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(po&&null!==ho&&0!==(1&t.mode)&&0===(128&t.flags))ko(),So(),t.flags|=98560,s=!1;else if(s=wo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[wa]=t}else So(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),s=!1}else null!==mo&&(mu(mo),mo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&us.current)?0===Wl&&(Wl=3):Cu())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return ss(),Bi(e,t),null===e&&Jr(t.stateNode.containerInfo),tl(t),null;case 10:return Uo(t.type._context),tl(t),null;case 19:if(Ma(us),null===(s=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)el(s,!1);else{if(0!==Wl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,el(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Da(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Jl&&(t.flags|=128,r=!0,el(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!po)return tl(t),null}else 2*Ye()-s.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,el(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=us.current,Da(us,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return xu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function rl(e,t){switch(co(t),t.tag){case 1:return Ba(t.type)&&$a(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ss(),Ma(Ia),Ma(Ua),fs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ls(t),null;case 13:if(Ma(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));So()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ma(us),null;case 4:return ss(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return xu(),null;default:return null}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bi=function(){},$i=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,as(ts.current);var o,s=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),s=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=la)}for(c in ve(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Kr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Wi=function(e,t,n,r){n!==r&&(t.flags|=4)};var al=!1,ol=!1,sl="function"===typeof WeakSet?WeakSet:Set,il=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(_t){Lu(e,t,_t)}else n.current=null}function ul(e,t,n){try{n()}catch(_t){Lu(e,t,_t)}}var cl=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&ul(t,n,o)}a=a.next}while(a!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[wa],delete t[ka],delete t[Ca],delete t[Na],delete t[ja])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=la));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var bl=null,xl=!1;function wl(e,t,n){for(n=n.child;null!==n;)kl(e,t,n),n=n.sibling}function kl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(Lt){}switch(n.tag){case 5:ol||ll(n,t);case 6:var r=bl,a=xl;bl=null,wl(e,t,n),xl=a,null!==(bl=r)&&(xl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(xl?(e=bl,n=n.stateNode,8===e.nodeType?va(e.parentNode,n):1===e.nodeType&&va(e,n),Yt(e)):va(bl,n.stateNode));break;case 4:r=bl,a=xl,bl=n.stateNode.containerInfo,xl=!0,wl(e,t,n),bl=r,xl=a;break;case 0:case 11:case 14:case 15:if(!ol&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ul(n,t,s),a=a.next}while(a!==r)}wl(e,t,n);break;case 1:if(!ol&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Lt){Lu(n,t,Lt)}wl(e,t,n);break;case 21:wl(e,t,n);break;case 22:1&n.mode?(ol=(r=ol)||null!==n.memoizedState,wl(e,t,n),ol=r):wl(e,t,n);break;default:wl(e,t,n)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sl),t.forEach(function(t){var r=Uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Cl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,xl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,xl=!0;break e}l=l.return}if(null===bl)throw Error(o(160));kl(s,i,a),bl=null,xl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(kt){Lu(a,t,kt)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cl(t,e),jl(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(wt){Lu(e,e.return,wt)}try{dl(5,e,e.return)}catch(wt){Lu(e,e.return,wt)}}break;case 1:Cl(t,e),jl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(Cl(t,e),jl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(wt){Lu(e,e.return,wt)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),ye(l,i);var c=ye(l,s);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?ce(a,f):"children"===d?de(a,f):b(a,d,f,c)}switch(l){case"input":X(a,s);break;case"textarea":oe(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ka]=s}catch(wt){Lu(e,e.return,wt)}}break;case 6:if(Cl(t,e),jl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(wt){Lu(e,e.return,wt)}}break;case 3:if(Cl(t,e),jl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(wt){Lu(e,e.return,wt)}break;case 4:default:Cl(t,e),jl(e);break;case 13:Cl(t,e),jl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Yl=Ye())),4&r&&Sl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(ol=(c=ol)||d,Cl(t,e),ol=c):Cl(t,e),jl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(il=e,d=e.child;null!==d;){for(f=il=d;null!==il;){switch(p=(h=il).child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:ll(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(wt){Lu(r,n,wt)}}break;case 5:ll(h,h.return);break;case 22:if(null!==h.memoizedState){_l(f);continue}}null!==p?(p.return=h,il=p):_l(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,i=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",i))}catch(wt){Lu(e,e.return,wt)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(wt){Lu(e,e.return,wt)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cl(t,e),jl(e),4&r&&Sl(e);case 21:}}function jl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),yl(e,gl(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;vl(e,gl(e),s);break;default:throw Error(o(161))}}catch(Xt){Lu(e,e.return,Xt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function El(e,t,n){il=e,Tl(e,t,n)}function Tl(e,t,n){for(var r=0!==(1&e.mode);null!==il;){var a=il,o=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||al;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||ol;i=al;var u=ol;if(al=s,(ol=l)&&!u)for(il=a;null!==il;)l=(s=il).child,22===s.tag&&null!==s.memoizedState?Rl(a):null!==l?(l.return=s,il=l):Rl(a);for(;null!==o;)il=o,Tl(o,t,n),o=o.sibling;il=a,al=i,ol=u}Pl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,il=o):Pl(e)}}function Pl(e){for(;null!==il;){var t=il;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ol||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ol)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:di(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Zo(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Zo(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Yt(f)}}}break;default:throw Error(o(163))}ol||512&t.flags&&hl(t)}catch(h){Lu(t,t.return,h)}}if(t===e){il=null;break}if(null!==(n=t.sibling)){n.return=t.return,il=n;break}il=t.return}}function _l(e){for(;null!==il;){var t=il;if(t===e){il=null;break}var n=t.sibling;if(null!==n){n.return=t.return,il=n;break}il=t.return}}function Rl(e){for(;null!==il;){var t=il;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(Xt){Lu(t,n,Xt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(Xt){Lu(t,a,Xt)}}var o=t.return;try{hl(t)}catch(Xt){Lu(t,o,Xt)}break;case 5:var s=t.return;try{hl(t)}catch(Xt){Lu(t,s,Xt)}}}catch(Xt){Lu(t,t.return,Xt)}if(t===e){il=null;break}var i=t.sibling;if(null!==i){i.return=t.return,il=i;break}il=t.return}}var Ol,Ll=Math.ceil,Ml=x.ReactCurrentDispatcher,Dl=x.ReactCurrentOwner,Al=x.ReactCurrentBatchConfig,Ul=0,Il=null,Fl=null,zl=0,Bl=0,$l=La(0),Wl=0,ql=null,Hl=0,Vl=0,Gl=0,Kl=null,Ql=null,Yl=0,Jl=1/0,Xl=null,Zl=!1,eu=null,tu=null,nu=!1,ru=null,au=0,ou=0,su=null,iu=-1,lu=0;function uu(){return 0!==(6&Ul)?Ye():-1!==iu?iu:iu=Ye()}function cu(e){return 0===(1&e.mode)?1:0!==(2&Ul)&&0!==zl?zl&-zl:null!==No.transition?(0===lu&&(lu=pt()),lu):0!==(e=yt)?e:e=void 0===(e=window.event)?16:on(e.type)}function du(e,t,n,r){if(50<ou)throw ou=0,su=null,Error(o(185));gt(e,n,r),0!==(2&Ul)&&e===Il||(e===Il&&(0===(2&Ul)&&(Vl|=n),4===Wl&&gu(e,zl)),fu(e,r),1===n&&0===Ul&&0===(1&t.mode)&&(Jl=Ye()+500,Ka&&Ja()))}function fu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ot(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=ft(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=dt(e,e===Il?zl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ka=!0,Ya(e)}(vu.bind(null,e)):Ya(vu.bind(null,e)),ma(function(){0===(6&Ul)&&Ja()}),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Iu(n,hu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hu(e,t){if(iu=-1,lu=0,0!==(6&Ul))throw Error(o(327));var n=e.callbackNode;if(Ru()&&e.callbackNode!==n)return null;var r=dt(e,e===Il?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Nu(e,r);else{t=r;var a=Ul;Ul|=2;var s=Su();for(Il===e&&zl===t||(Xl=null,Jl=Ye()+500,wu(e,t));;)try{Eu();break}catch(Lt){ku(e,Lt)}Ao(),Ml.current=s,Ul=a,null!==Fl?t=0:(Il=null,zl=0,t=Wl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=pu(e,a))),1===t)throw n=ql,wu(e,0),gu(e,r),fu(e,Ye()),n;if(6===t)gu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!gr(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Nu(e,r))&&(0!==(s=ht(e))&&(r=s,t=pu(e,s))),1===t))throw n=ql,wu(e,0),gu(e,r),fu(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_u(e,Ql,Xl);break;case 3:if(gu(e,r),(130023424&r)===r&&10<(t=Yl+500-Ye())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){uu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fa(_u.bind(null,e,Ql,Xl),t);break}_u(e,Ql,Xl);break;case 4:if(gu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ll(r/1960))-r)){e.timeoutHandle=fa(_u.bind(null,e,Ql,Xl),r);break}_u(e,Ql,Xl);break;default:throw Error(o(329))}}}return fu(e,Ye()),e.callbackNode===n?hu.bind(null,e):null}function pu(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(wu(e,t).flags|=256),2!==(e=Nu(e,t))&&(t=Ql,Ql=n,null!==t&&mu(t)),e}function mu(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function gu(e,t){for(t&=~Gl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(0!==(6&Ul))throw Error(o(327));Ru();var t=dt(e,0);if(0===(1&t))return fu(e,Ye()),null;var n=Nu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=pu(e,r))}if(1===n)throw n=ql,wu(e,0),gu(e,t),fu(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Ql,Xl),fu(e,Ye()),null}function yu(e,t){var n=Ul;Ul|=1;try{return e(t)}finally{0===(Ul=n)&&(Jl=Ye()+500,Ka&&Ja())}}function bu(e){null!==ru&&0===ru.tag&&0===(6&Ul)&&Ru();var t=Ul;Ul|=1;var n=Al.transition,r=yt;try{if(Al.transition=null,yt=1,e)return e()}finally{yt=r,Al.transition=n,0===(6&(Ul=t))&&Ja()}}function xu(){Bl=$l.current,Ma($l)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ha(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(co(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&$a();break;case 3:ss(),Ma(Ia),Ma(Ua),fs();break;case 5:ls(r);break;case 4:ss();break;case 13:case 19:Ma(us);break;case 10:Uo(r.type._context);break;case 22:case 23:xu()}n=n.return}if(Il=e,Fl=e=$u(e.current,null),zl=Bl=t,Wl=0,ql=null,Gl=Vl=Hl=0,Ql=Kl=null,null!==Bo){for(t=0;t<Bo.length;t++)if(null!==(r=(n=Bo[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=a,r.next=s}n.pending=r}Bo=null}return e}function ku(e,t){for(;;){var n=Fl;try{if(Ao(),hs.current=ii,bs){for(var r=gs.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}bs=!1}if(ms=0,ys=vs=gs=null,xs=!1,ws=0,Dl.current=null,null===n||null===n.return){Wl=1,ql=t,Fl=null;break}e:{var s=e,i=n.return,l=n,u=t;if(t=zl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ni(i);if(null!==p){p.flags&=-257,ji(p,i,l,0,t),1&p.mode&&Ci(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Ci(s,c,t),Cu();break e}u=Error(o(426))}else if(po&&1&l.mode){var v=Ni(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ji(v,i,l,0,t),Co(yi(u,l));break e}}s=u=yi(u,l),4!==Wl&&(Wl=2),null===Kl?Kl=[s]:Kl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Jo(s,ki(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===tu||!tu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Jo(s,Si(s,l,t));break e}}s=s.return}while(null!==s)}Pu(n)}catch(x){t=x,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function Su(){var e=Ml.current;return Ml.current=ii,null===e?ii:e}function Cu(){0!==Wl&&3!==Wl&&2!==Wl||(Wl=4),null===Il||0===(268435455&Hl)&&0===(268435455&Vl)||gu(Il,zl)}function Nu(e,t){var n=Ul;Ul|=2;var r=Su();for(Il===e&&zl===t||(Xl=null,wu(e,t));;)try{ju();break}catch(xt){ku(e,xt)}if(Ao(),Ul=n,Ml.current=r,null!==Fl)throw Error(o(261));return Il=null,zl=0,Wl}function ju(){for(;null!==Fl;)Tu(Fl)}function Eu(){for(;null!==Fl&&!Ke();)Tu(Fl)}function Tu(e){var t=Ol(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Pu(e):Fl=t,Dl.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Bl)))return void(Fl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Wl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Wl&&(Wl=5)}function _u(e,t,n){var r=yt,a=Al.transition;try{Al.transition=null,yt=1,function(e,t,n,r){do{Ru()}while(null!==ru);if(0!==(6&Ul))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,s),e===Il&&(Fl=Il=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nu||(nu=!0,Iu(et,function(){return Ru(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Al.transition,Al.transition=null;var i=yt;yt=1;var l=Ul;Ul|=4,Dl.current=null,function(e,t){if(ua=Zt,kr(e=wr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(At){n=null;break e}var i=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=i+a),f!==s||0!==r&&3!==f.nodeType||(u=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=i),h===s&&++d===r&&(u=i),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ca={focusedElem:e,selectionRange:n},Zt=!1,il=t;null!==il;)if(e=(t=il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,il=e;else for(;null!==il;){t=il;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:di(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(At){Lu(t,t.return,At)}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}m=cl,cl=!1}(e,n),Nl(n,e),Sr(ca),Zt=!!ua,ca=ua=null,e.current=n,El(n,e,a),Qe(),Ul=l,yt=i,Al.transition=s}else e.current=n;if(nu&&(nu=!1,ru=e,au=a),s=e.pendingLanes,0===s&&(tu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fu(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Zl)throw Zl=!1,e=eu,eu=null,e;0!==(1&au)&&0!==e.tag&&Ru(),s=e.pendingLanes,0!==(1&s)?e===su?ou++:(ou=0,su=e):ou=0,Ja()}(e,t,n,r)}finally{Al.transition=a,yt=r}return null}function Ru(){if(null!==ru){var e=bt(au),t=Al.transition,n=yt;try{if(Al.transition=null,yt=16>e?16:e,null===ru)var r=!1;else{if(e=ru,ru=null,au=0,0!==(6&Ul))throw Error(o(331));var a=Ul;for(Ul|=4,il=e.current;null!==il;){var s=il,i=s.child;if(0!==(16&il.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(il=c;null!==il;){var d=il;switch(d.tag){case 0:case 11:case 15:dl(8,d,s)}var f=d.child;if(null!==f)f.return=d,il=f;else for(;null!==il;){var h=(d=il).sibling,p=d.return;if(pl(d),d===c){il=null;break}if(null!==h){h.return=p,il=h;break}il=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}il=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,il=i;else e:for(;null!==il;){if(0!==(2048&(s=il).flags))switch(s.tag){case 0:case 11:case 15:dl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,il=y;break e}il=s.return}}var b=e.current;for(il=b;null!==il;){var x=(i=il).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,il=x;else e:for(i=b;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(k){Lu(l,l.return,k)}if(l===i){il=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,il=w;break e}il=l.return}}if(Ul=a,Ja(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(k){}r=!0}return r}finally{yt=n,Al.transition=t}}return!1}function Ou(e,t,n){e=Qo(e,t=ki(0,t=yi(n,t),1),1),t=uu(),null!==e&&(gt(e,1,t),fu(e,t))}function Lu(e,t,n){if(3===e.tag)Ou(e,e,n);else for(;null!==t;){if(3===t.tag){Ou(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tu||!tu.has(r))){t=Qo(t,e=Si(t,e=yi(n,e),1),1),e=uu(),null!==t&&(gt(t,1,e),fu(t,e));break}}t=t.return}}function Mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(zl&n)===n&&(4===Wl||3===Wl&&(130023424&zl)===zl&&500>Ye()-Yl?wu(e,0):Gl|=n),fu(e,t)}function Du(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=uu();null!==(e=qo(e,t))&&(gt(e,t,n),fu(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Du(e,n)}function Uu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Du(e,n)}function Iu(e,t){return Ve(e,t)}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Fu(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $u(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Bu(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case S:return qu(n.children,a,s,t);case C:i=8,a|=8;break;case N:return(e=zu(12,n,t,2|a)).elementType=N,e.lanes=s,e;case P:return(e=zu(13,n,t,a)).elementType=P,e.lanes=s,e;case _:return(e=zu(19,n,t,a)).elementType=_,e.lanes=s,e;case L:return Hu(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:i=10;break e;case E:i=9;break e;case T:i=11;break e;case R:i=14;break e;case O:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zu(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function qu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Hu(e,t,n,r){return(e=zu(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Vu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Qu(e,t,n,r,a,o,s,i,l){return e=new Ku(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=zu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vo(o),e}function Yu(e){if(!e)return Aa;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ba(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ba(n))return qa(e,n,t)}return t}function Ju(e,t,n,r,a,o,s,i,l){return(e=Qu(n,r,!0,e,0,o,0,i,l)).context=Yu(null),n=e.current,(o=Ko(r=uu(),a=cu(n))).callback=void 0!==t&&null!==t?t:null,Qo(n,o,a),e.current.lanes=a,gt(e,a,r),fu(e,r),e}function Xu(e,t,n,r){var a=t.current,o=uu(),s=cu(a);return n=Yu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ko(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qo(a,t,s))&&(du(e,a,s,o),Yo(e,a,s)),s}function Zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ec(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tc(e,t){ec(e,t),(e=e.alternate)&&ec(e,t)}Ol=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)Ti=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ti=!1,function(e,t,n){switch(t.tag){case 3:Ii(t),So();break;case 5:is(t);break;case 1:Ba(t.type)&&Ha(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Da(Oo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Da(us,1&us.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vi(e,t,n):(Da(us,1&us.current),null!==(e=Zi(e,t,n))?e.sibling:null);Da(us,1&us.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ji(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Da(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Li(e,t,n)}return Zi(e,t,n)}(e,t,n);Ti=0!==(131072&e.flags)}else Ti=!1,po&&0!==(1048576&t.flags)&&lo(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xi(e,t),e=t.pendingProps;var a=za(t,Ua.current);Fo(t,n),a=Ns(null,t,r,e,a,n);var s=js();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ba(r)?(s=!0,Ha(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Vo(t),a.updater=hi,t.stateNode=a,a._reactInternals=t,vi(t,r,e,n),t=Ui(null,t,r,!0,s,n)):(t.tag=0,po&&s&&uo(t),Pi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Bu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=di(r,e),a){case 0:t=Di(null,t,r,e,n);break e;case 1:t=Ai(null,t,r,e,n);break e;case 11:t=_i(null,t,r,e,n);break e;case 14:t=Ri(null,t,r,di(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Di(e,t,r,a=t.elementType===r?a:di(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ai(e,t,r,a=t.elementType===r?a:di(r,a),n);case 3:e:{if(Ii(t),null===e)throw Error(o(387));r=t.pendingProps,a=(s=t.memoizedState).element,Go(e,t),Xo(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fi(e,t,r,n,a=yi(Error(o(423)),t));break e}if(r!==a){t=Fi(e,t,r,n,a=yi(Error(o(424)),t));break e}for(ho=ya(t.stateNode.containerInfo.firstChild),fo=t,po=!0,mo=null,n=Ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(So(),r===a){t=Zi(e,t,n);break e}Pi(e,t,r,n)}t=t.child}return t;case 5:return is(t),null===e&&bo(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,da(r,a)?i=null:null!==s&&da(r,s)&&(t.flags|=32),Mi(e,t),Pi(e,t,i,n),t.child;case 6:return null===e&&bo(t),null;case 13:return Vi(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):Pi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:di(r,a),n);case 7:return Pi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Da(Oo,r._currentValue),r._currentValue=i,null!==s)if(gr(s.value,i)){if(s.children===a.children&&!Ia.current){t=Zi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Ko(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Io(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}Pi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Fo(t,n),r=r(a=zo(a)),t.flags|=1,Pi(e,t,r,n),t.child;case 14:return a=di(r=t.type,t.pendingProps),Ri(e,t,r,a=di(r.type,a),n);case 15:return Oi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:di(r,a),Xi(e,t),t.tag=1,Ba(r)?(e=!0,Ha(t)):e=!1,Fo(t,n),mi(t,r,a),vi(t,r,a,n),Ui(null,t,r,!0,e,n);case 19:return Ji(e,t,n);case 22:return Li(e,t,n)}throw Error(o(156,t.tag))};var nc="function"===typeof reportError?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}function ac(e){this._internalRoot=e}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(){}function lc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=Zu(s);i.call(e)}}Xu(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Zu(s);o.call(e)}}var s=Ju(t,r,e,0,null,!1,0,"",ic);return e._reactRootContainer=s,e[Sa]=s.current,Jr(8===e.nodeType?e.parentNode:e),bu(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Zu(l);i.call(e)}}var l=Qu(e,0,!1,null,0,!1,0,"",ic);return e._reactRootContainer=l,e[Sa]=l.current,Jr(8===e.nodeType?e.parentNode:e),bu(function(){Xu(t,l,n,r)}),l}(n,t,e,a,r);return Zu(s)}ac.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xu(e,t,null,null)},ac.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bu(function(){Xu(null,e,null,null)}),t[Sa]=null}},ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Ht(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(vt(t,1|n),fu(t,Ye()),0===(6&Ul)&&(Jl=Ye()+500,Ja()))}break;case 13:bu(function(){var t=qo(e,1);if(null!==t){var n=uu();du(t,e,1,n)}}),tc(e,1)}},Nt=function(e){if(13===e.tag){var t=qo(e,134217728);if(null!==t)du(t,e,134217728,uu());tc(e,134217728)}},Et=function(e){if(13===e.tag){var t=cu(e),n=qo(e,t);if(null!==n)du(n,e,t,uu());tc(e,t)}},Tt=function(){return yt},Pt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(o(90));G(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=yu,Te=bu;var uc={usingClientEntryPoint:!1,Events:[Ta,Pa,_a,Ne,je,yu]},cc={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{rt=fc.inject(dc),at=fc}catch(St){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!oc(e))throw Error(o(299));var n=!1,r="",a=nc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Qu(e,1,!1,null,0,n,0,r,a),e[Sa]=t.current,Jr(8===e.nodeType?e.parentNode:e),new rc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return bu(e)},t.hydrate=function(e,t,n){if(!sc(t))throw Error(o(200));return lc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!oc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=nc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Ju(t,null,e,1,null!=n?n:null,a,0,s,i),e[Sa]=t.current,Jr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ac(t)},t.render=function(e,t,n){if(!sc(t))throw Error(o(200));return lc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!sc(e))throw Error(o(40));return!!e._reactRootContainer&&(bu(function(){lc(null,null,e,!1,function(){e._reactRootContainer=null,e[Sa]=null})}),!0)},t.unstable_batchedUpdates=yu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return lc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Sr,hasStandardBrowserEnv:()=>Nr,hasStandardBrowserWebWorkerEnv:()=>jr,navigator:()=>Cr,origin:()=>Er});var a,o=n(43),s=n.t(o,2),i=n(391),l=n(950),u=n.t(l,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const d="popstate";function f(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(xt){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,l=a.Pop,u=null,h=v();function v(){return(i.state||{idx:null}).idx}function y(){l=a.Pop;let e=v(),t=null==e?null:e-h;h=e,u&&u({action:l,location:x.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),f(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,i.replaceState(c({},i.state,{idx:h}),""));let x={get action(){return l},get location(){return e(o,i)},listen(e){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(d,y),u=e,()=>{o.removeEventListener(d,y),u=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let r=m(x.location,e,t);n&&n(r,e),h=v()+1;let c=p(r,h),d=x.createHref(r);try{i.pushState(c,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(d)}s&&u&&u({action:l,location:x.location,delta:1})},replace:function(e,t){l=a.Replace;let r=m(x.location,e,t);n&&n(r,e),h=v();let o=p(r,h),c=x.createHref(r);i.replaceState(o,"",c),s&&u&&u({action:l,location:x.location,delta:0})},go:e=>i.go(e)};return x}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let a=D(("string"===typeof t?v(t):t).pathname||"/",n);if(null==a)return null;let o=k(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let i=0;null==s&&i<o.length;++i){let e=M(a);s=O(o[i],e,r)}return s}function k(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(f(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let i=z([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),k(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:R(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))a(e,t,r);else a(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let s=S(r.join("/")),i=[];return i.push(...s.map(e=>""===e?o:[o,e].join("/"))),a&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const C=/^:[\w-]+$/,N=3,j=2,E=1,T=10,P=-2,_=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=P),t&&(r+=j),n.filter(e=>!_(e)).reduce((e,t)=>e+(C.test(t)?N:""===t?E:T),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let e=r[i],l=i===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),s.push({params:a,pathname:z([o,c.pathname]),pathnameBase:B(z([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=z([o,c.pathnameBase]))}return s}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=U(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=v(e):(a=c({},e),f(!a.pathname||!a.pathname.includes("?"),A("?","pathname","search",a)),f(!a.pathname||!a.pathname.includes("#"),A("#","pathname","hash",a)),f(!a.search||!a.search.includes("#"),A("#","search","hash",a)));let o,s=""===e||""===a.pathname,i=s?"/":a.pathname;if(null==i)o=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?v(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:$(r),hash:W(a)}}(a,o),u=i&&"/"!==i&&i.endsWith("/"),d=(s||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const K=o.createContext(null);const Q=o.createContext(null);const Y=o.createContext(null);const J=o.createContext(null);const X=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=o.createContext(null);function ee(){return null!=o.useContext(J)}function te(){return ee()||f(!1),o.useContext(J).location}function ne(e){o.useContext(Y).static||o.useLayoutEffect(e)}function re(){let{isDataRoute:e}=o.useContext(X);return e?function(){let{router:e}=he(de.UseNavigateStable),t=me(fe.UseNavigateStable),n=o.useRef(!1);return ne(()=>{n.current=!0}),o.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},a)))},[e,t])}():function(){ee()||f(!1);let e=o.useContext(K),{basename:t,future:n,navigator:r}=o.useContext(Y),{matches:a}=o.useContext(X),{pathname:s}=te(),i=JSON.stringify(I(a,n.v7_relativeSplatPath)),l=o.useRef(!1);return ne(()=>{l.current=!0}),o.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:z([t,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[t,r,i,s,e])}()}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Y),{matches:a}=o.useContext(X),{pathname:s}=te(),i=JSON.stringify(I(a,r.v7_relativeSplatPath));return o.useMemo(()=>F(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function oe(e,t,n,r){ee()||f(!1);let{navigator:s}=o.useContext(Y),{matches:i}=o.useContext(X),l=i[i.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=te();if(t){var p;let e="string"===typeof t?v(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||f(!1),d=e}else d=h;let m=d.pathname||"/",g=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:g});let b=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:z([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:z([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&b?o.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:a.Pop}},b):b}function se(){let e=function(){var e;let t=o.useContext(Z),n=pe(fe.UseRouteError),r=me(fe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:a},n):null,null)}const ie=o.createElement(se,null);class le extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(X.Provider,{value:this.props.routeContext},o.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,a=o.useContext(K);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||f(!1),i=i.slice(0,Math.min(i.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<i.length;o++){let e=i[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=o),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){u=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let s,d=!1,f=null,h=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,f=r.route.errorElement||ie,u&&(c<0&&0===a?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,h=null):c===a&&(d=!0,h=r.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,a+1)),g=()=>{let t;return t=s?f:d?h:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ue,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?o.createElement(le,{location:n.location,revalidation:n.revalidation,component:f,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function he(e){let t=o.useContext(K);return t||f(!1),t}function pe(e){let t=o.useContext(Q);return t||f(!1),t}function me(e){let t=function(){let e=o.useContext(X);return e||f(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||f(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:a}=e;ee()||f(!1);let{future:s,static:i}=o.useContext(Y),{matches:l}=o.useContext(X),{pathname:u}=te(),c=re(),d=F(t,I(l,s.v7_relativeSplatPath),u,"path"===a),h=JSON.stringify(d);return o.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:a}),[c,h,a,n,r]),null}function be(e){f(!1)}function xe(e){let{basename:t="/",children:n=null,location:r,navigationType:s=a.Pop,navigator:i,static:l=!1,future:u}=e;ee()&&f(!1);let c=t.replace(/^\/*/,"/"),d=o.useMemo(()=>({basename:c,navigator:i,static:l,future:G({v7_relativeSplatPath:!1},u)}),[c,u,i,l]);"string"===typeof r&&(r=v(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:y="default"}=r,b=o.useMemo(()=>{let e=D(h,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:s}},[c,h,p,m,g,y,s]);return null==b?null:o.createElement(Y.Provider,{value:d},o.createElement(J.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return oe(ke(t),n)}new Promise(()=>{});o.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,(e,r)=>{if(!o.isValidElement(e))return;let a=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,ke(e.props.children,a));e.type!==be&&f(!1),e.props.index&&e.props.children&&f(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ke(e.props.children,a)),n.push(s)}),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(xt){}new Map;const je=s.startTransition;u.flushSync,s.useId;function Ee(e){let{basename:t,children:n,future:r,window:a}=e,s=o.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),y(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,i)));let l=s.current,[u,c]=o.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=o.useCallback(e=>{d&&je?je(()=>c(e)):c(e)},[c,d]);return o.useLayoutEffect(()=>l.listen(f),[l,f]),o.useEffect(()=>ve(r),[r]),o.createElement(xe,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=o.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:i,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,p=Ce(e,Ne),{basename:m}=o.useContext(Y),v=!1;if("string"===typeof c&&Pe.test(c)&&(n=c,Te))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=D(t.pathname,m);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:v=!0}catch(xt){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||f(!1);let{basename:r,navigator:a}=o.useContext(Y),{hash:s,pathname:i,search:l}=ae(e,{relative:n}),u=i;return"/"!==r&&(u="/"===i?r:z([r,i])),a.createHref({pathname:u,search:l,hash:s})}(c,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:l}=void 0===t?{}:t,u=re(),c=te(),d=ae(e,{relative:i});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(c)===g(d);u(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[c,u,d,r,a,n,e,s,i,l])}(c,{replace:i,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:h});return o.createElement("a",Se({},p,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))});var Re,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));const Le="undefined"===typeof window||"Deno"in window;function Me(){}function De(e,t,n){return Ge(e)?"function"===typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Ae(e,t,n){return Ge(e)?[{...t,queryKey:e},n]:[e||{},t]}function Ue(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:s,stale:i}=e;if(Ge(s))if(r){if(t.queryHash!==Fe(s,t.options))return!1}else if(!Be(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof i||t.isStale()===i)&&(("undefined"===typeof a||a===t.state.fetchStatus)&&!(o&&!o(t)))}function Ie(e,t){const{exact:n,fetching:r,predicate:a,mutationKey:o}=e;if(Ge(o)){if(!t.options.mutationKey)return!1;if(n){if(ze(t.options.mutationKey)!==ze(o))return!1}else if(!Be(t.options.mutationKey,o))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(a&&!a(t))}function Fe(e,t){return((null==t?void 0:t.queryKeyHashFn)||ze)(e)}function ze(e){return JSON.stringify(e,(e,t)=>He(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Be(e,t){return $e(e,t)}function $e(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(n=>!$e(e[n],t[n])))}function We(e,t){if(e===t)return e;const n=qe(e)&&qe(t);if(n||He(e)&&He(t)){const r=n?e.length:Object.keys(e).length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{};let i=0;for(let l=0;l<o;l++){const r=n?l:a[l];s[r]=We(e[r],t[r]),s[r]===e[r]&&i++}return r===o&&i===r?e:s}return t}function qe(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function He(e){if(!Ve(e))return!1;const t=e.constructor;if("undefined"===typeof t)return!0;const n=t.prototype;return!!Ve(n)&&!!n.hasOwnProperty("isPrototypeOf")}function Ve(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ge(e){return Array.isArray(e)}function Ke(e){return new Promise(t=>{setTimeout(t,e)})}function Qe(e){Ke(0).then(e)}function Ye(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?We(e,t):t}const Je=console;const Xe=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()};const a=r=>{t?e.push(r):Qe(()=>{n(r)})},o=()=>{const t=e;e=[],t.length&&Qe(()=>{r(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{t--,t||o()}return n},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a(()=>{e(...n)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e}}}();class Ze{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const et=new class extends Ze{constructor(){super(),this.setup=e=>{if(!Le&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(e=>{let{listener:t}=e;t()})}isFocused(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},tt=["online","offline"];const nt=new class extends Ze{constructor(){super(),this.setup=e=>{if(!Le&&window.addEventListener){const t=()=>e();return tt.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{tt.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"===typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(e=>{let{listener:t}=e;t()})}isOnline(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}};function rt(e){return Math.min(1e3*2**e,3e4)}function at(e){return"online"!==(null!=e?e:"online")||nt.isOnline()}class ot{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function st(e){return e instanceof ot}function it(e){let t,n,r,a=!1,o=0,s=!1;const i=new Promise((e,t)=>{n=e,r=t}),l=()=>!et.isFocused()||"always"!==e.networkMode&&!nt.isOnline(),u=r=>{s||(s=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},c=n=>{s||(s=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},d=()=>new Promise(n=>{t=e=>{const t=s||!l();return t&&n(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,s||null==e.onContinue||e.onContinue()}),f=()=>{if(s)return;let t;try{t=e.fn()}catch(n){t=Promise.reject(n)}Promise.resolve(t).then(u).catch(t=>{var n,r;if(s)return;const i=null!=(n=e.retry)?n:3,u=null!=(r=e.retryDelay)?r:rt,h="function"===typeof u?u(o,t):u,p=!0===i||"number"===typeof i&&o<i||"function"===typeof i&&i(o,t);!a&&p?(o++,null==e.onFail||e.onFail(o,t),Ke(h).then(()=>{if(l())return d()}).then(()=>{a?c(t):f()})):c(t)})};return at(e.networkMode)?f():d().then(f),{promise:i,cancel:t=>{s||(c(new ot(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?i:Promise.resolve(),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1}}}class lt{destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Le?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class ut extends lt{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Je,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const n=Ye(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(Me).catch(Me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var n,r;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const o=function(){if("function"===typeof AbortController)return new AbortController}(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};i(s);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var u;(i(l),null==(n=this.options.behavior)||n.onFetch(l),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=l.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(u=l.fetchOptions)?void 0:u.meta});const c=e=>{var t,n,r,a;(st(e)&&e.silent||this.dispatch({type:"error",error:e}),st(e))||(null==(t=(n=this.cache.config).onError)||t.call(n,e,this),null==(r=(a=this.cache.config).onSettled)||r.call(a,this.state.data,e,this));this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=it({fn:l.fetchFn,abort:null==o?void 0:o.abort.bind(o),onSuccess:e=>{var t,n,r,a;"undefined"!==typeof e?(this.setData(e),null==(t=(n=this.cache.config).onSuccess)||t.call(n,e,this),null==(r=(a=this.cache.config).onSettled)||r.call(a,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):c(new Error(this.queryHash+" data is undefined"))},onError:c,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=e.meta)?n:null,fetchStatus:at(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=e.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return st(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...t,error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Xe.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}class ct extends Ze{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,n){var r;const a=t.queryKey,o=null!=(r=t.queryHash)?r:Fe(a,t);let s=this.get(o);return s||(s=new ut({cache:this,logger:e.getLogger(),queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Xe.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[n]=Ae(e,t);return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find(e=>Ue(n,e))}findAll(e,t){const[n]=Ae(e,t);return Object.keys(n).length>0?this.queries.filter(e=>Ue(n,e)):this.queries}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{let{listener:n}=t;n(e)})})}onFocus(){Xe.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Xe.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class dt extends lt{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Je,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=it({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var n,r,a,o,s,i,l,u;if(!t){var c,d,f,h;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(c=(d=this.mutationCache.config).onMutate)?void 0:c.call(d,this.state.variables,this));const e=await(null==(f=(h=this.options).onMutate)?void 0:f.call(h,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const p=await e();return await(null==(n=(r=this.mutationCache.config).onSuccess)?void 0:n.call(r,p,this.state.variables,this.state.context,this)),await(null==(a=(o=this.options).onSuccess)?void 0:a.call(o,p,this.state.variables,this.state.context)),await(null==(s=(i=this.mutationCache.config).onSettled)?void 0:s.call(i,p,null,this.state.variables,this.state.context,this)),await(null==(l=(u=this.options).onSettled)?void 0:l.call(u,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(k){try{var p,m,g,v,y,b,x,w;throw await(null==(p=(m=this.mutationCache.config).onError)?void 0:p.call(m,k,this.state.variables,this.state.context,this)),await(null==(g=(v=this.options).onError)?void 0:g.call(v,k,this.state.variables,this.state.context)),await(null==(y=(b=this.mutationCache.config).onSettled)?void 0:y.call(b,void 0,k,this.state.variables,this.state.context,this)),await(null==(x=(w=this.options).onSettled)?void 0:x.call(w,void 0,k,this.state.variables,this.state.context)),k}finally{this.dispatch({type:"error",error:k})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!at(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),Xe.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}class ft extends Ze{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,n){const r=new dt({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){Xe.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(t=>Ie(e,t))}findAll(e){return this.mutations.filter(t=>Ie(e,t))}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{let{listener:n}=t;n(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{const e=this.mutations.filter(e=>e.state.isPaused);return Xe.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(Me)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ht(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,a,o,s;const i=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,u=null==l?void 0:l.pageParam,c="forward"===(null==l?void 0:l.direction),d="backward"===(null==l?void 0:l.direction),f=(null==(o=e.state.data)?void 0:o.pages)||[],h=(null==(s=e.state.data)?void 0:s.pageParams)||[];let p=h,m=!1;const g=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),v=(e,t,n,r)=>(p=r?[t,...p]:[...p,t],r?[n,...e]:[...e,n]),y=(t,n,r,a)=>{if(m)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);const o={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};var s;s=o,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>{var t,n;return null!=(t=e.signal)&&t.aborted?m=!0:null==(n=e.signal)||n.addEventListener("abort",()=>{m=!0}),e.signal}});const i=g(o);return Promise.resolve(i).then(e=>v(t,r,e,a))};let b;if(f.length)if(c){const t="undefined"!==typeof u,n=t?u:pt(e.options,f);b=y(f,t,n)}else if(d){const t="undefined"!==typeof u,n=t?u:mt(e.options,f);b=y(f,t,n,!0)}else{p=[];const t="undefined"===typeof e.options.getNextPageParam;b=!i||!f[0]||i(f[0],0,f)?y([],t,h[0]):Promise.resolve(v([],h[0],f[0]));for(let n=1;n<f.length;n++)b=b.then(r=>{if(!i||!f[n]||i(f[n],n,f)){const a=t?h[n]:pt(e.options,r);return y(r,t,a)}return Promise.resolve(v(r,h[n],f[n]))})}else b=y([]);return b.then(e=>({pages:e,pageParams:p}))}}}}function pt(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function mt(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}const gt=o.createContext(void 0),vt=o.createContext(!1);function yt(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=gt),window.ReactQueryClientContext):gt)}const bt=e=>{let{client:t,children:n,context:r,contextSharing:a=!1}=e;o.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const s=yt(r,a);return o.createElement(vt.Provider,{value:!r&&a},o.createElement(s.Provider,{value:t},n))};let xt={data:""},wt=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xt,kt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,St=/\/\*[^]*?\*\/|  +/g,Ct=/\n+/g,Nt=(e,t)=>{let n="",r="",a="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?Nt(s,o):o+"{"+Nt(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=Nt(s,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Nt.p?Nt.p(o,s):o+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+r},jt={},Et=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Et(e[n]);return t}return e},Tt=(e,t,n,r,a)=>{let o=Et(e),s=jt[o]||(jt[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!jt[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=kt.exec(e.replace(St,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ct," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ct," ").trim();return r[0]})(e);jt[s]=Nt(a?{["@keyframes "+s]:t}:t,n?"":"."+s)}let i=n&&jt.g?jt.g:null;return n&&(jt.g=jt[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(jt[s],t,r,i),s};function Pt(e){let t=this||{},n=e.call?e(t.p):e;return Tt(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let o=t[a];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Nt(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,wt(t.target),t.g,t.o,t.k)}Pt.bind({g:1});let _t,Rt,Ot,Lt=Pt.bind({k:1});function Mt(e,t){let n=this||{};return function(){let r=arguments;function a(o,s){let i=Object.assign({},o),l=i.className||a.className;n.p=Object.assign({theme:Rt&&Rt()},i),n.o=/ *go\d+/.test(l),i.className=Pt.apply(n,r)+(l?" "+l:""),t&&(i.ref=s);let u=e;return e[0]&&(u=i.as||e,delete i.as),Ot&&u[0]&&Ot(i),_t(u,i)}return t?t(a):a}}var Dt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,At=(()=>{let e=0;return()=>(++e).toString()})(),Ut=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),It=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return It(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},Ft=[],zt={toasts:[],pausedAt:void 0},Bt=e=>{zt=It(zt,e),Ft.forEach(e=>{e(zt)})},$t={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Wt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||At()}}(t,e,n);return Bt({type:2,toast:r}),r.id},qt=(e,t)=>Wt("blank")(e,t);qt.error=Wt("error"),qt.success=Wt("success"),qt.loading=Wt("loading"),qt.custom=Wt("custom"),qt.dismiss=e=>{Bt({type:3,toastId:e})},qt.remove=e=>Bt({type:4,toastId:e}),qt.promise=(e,t,n)=>{let r=qt.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?Dt(t.success,e):void 0;return a?qt.success(a,{id:r,...n,...null==n?void 0:n.success}):qt.dismiss(r),e}).catch(e=>{let a=t.error?Dt(t.error,e):void 0;a?qt.error(a,{id:r,...n,...null==n?void 0:n.error}):qt.dismiss(r)}),e};var Ht=(e,t)=>{Bt({type:1,toast:{id:e,height:t}})},Vt=()=>{Bt({type:5,time:Date.now()})},Gt=new Map,Kt=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,o.useState)(zt),r=(0,o.useRef)(zt);(0,o.useEffect)(()=>(r.current!==zt&&n(zt),Ft.push(n),()=>{let e=Ft.indexOf(n);e>-1&&Ft.splice(e,1)}),[]);let a=t.toasts.map(t=>{var n,r,a;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||$t[t.type],style:{...e.style,...null==(a=e[t.type])?void 0:a.style,...t.style}}});return{...t,toasts:a}}(e);(0,o.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>qt.dismiss(t.id),n);t.visible&&qt.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,o.useCallback)(()=>{n&&Bt({type:6,time:Date.now()})},[n]),a=(0,o.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:o}=n||{},s=t.filter(t=>(t.position||o)===(e.position||o)&&t.height),i=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<i&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[t]);return(0,o.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Gt.has(e))return;let n=setTimeout(()=>{Gt.delete(e),Bt({type:4,toastId:e})},t);Gt.set(e,n)}(e.id,e.removeDelay);else{let t=Gt.get(e.id);t&&(clearTimeout(t),Gt.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Ht,startPause:Vt,endPause:r,calculateOffset:a}}},Qt=Lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yt=Lt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jt=Lt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Xt=Mt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yt} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Jt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Zt=Lt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,en=Mt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Zt} 1s linear infinite;
`,tn=Lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nn=Lt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rn=Mt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,an=Mt("div")`
  position: absolute;
`,on=Mt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sn=Lt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ln=Mt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,un=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?o.createElement(ln,null,n):n:"blank"===r?null:o.createElement(on,null,o.createElement(en,{...a}),"loading"!==r&&o.createElement(an,null,"error"===r?o.createElement(Xt,{...a}):o.createElement(rn,{...a})))},cn=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,dn=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,fn=Mt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hn=Mt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pn=o.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Ut()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[cn(n),dn(n)];return{animation:t?`${Lt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},i=o.createElement(un,{toast:t}),l=o.createElement(hn,{...t.ariaProps},Dt(t.message,t));return o.createElement(fn,{className:t.className,style:{...s,...r,...t.style}},"function"==typeof a?a({icon:i,message:l}):o.createElement(o.Fragment,null,i,l))});!function(e,t,n,r){Nt.p=t,_t=e,Rt=n,Ot=r}(o.createElement);var mn=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:s}=e,i=o.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return o.createElement("div",{ref:i,className:n,style:r},s)},gn=Pt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:s,containerStyle:i,containerClassName:l}=e,{toasts:u,handlers:c}=Kt(r);return o.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(e=>{let r=e.position||n,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ut()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}})(r,c.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return o.createElement(mn,{id:e.id,key:e.id,onHeightUpdate:c.updateHeight,className:e.visible?gn:"",style:i},"custom"===e.type?Dt(e.message,e):s?s(e):o.createElement(pn,{toast:e,position:r}))}))},yn=qt;function bn(e,t){return function(){return e.apply(t,arguments)}}const{toString:xn}=Object.prototype,{getPrototypeOf:wn}=Object,{iterator:kn,toStringTag:Sn}=Symbol,Cn=(Nn=Object.create(null),e=>{const t=xn.call(e);return Nn[t]||(Nn[t]=t.slice(8,-1).toLowerCase())});var Nn;const jn=e=>(e=e.toLowerCase(),t=>Cn(t)===e),En=e=>t=>typeof t===e,{isArray:Tn}=Array,Pn=En("undefined");const _n=jn("ArrayBuffer");const Rn=En("string"),On=En("function"),Ln=En("number"),Mn=e=>null!==e&&"object"===typeof e,Dn=e=>{if("object"!==Cn(e))return!1;const t=wn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Sn in e)&&!(kn in e)},An=jn("Date"),Un=jn("File"),In=jn("Blob"),Fn=jn("FileList"),zn=jn("URLSearchParams"),[Bn,$n,Wn,qn]=["ReadableStream","Request","Response","Headers"].map(jn);function Hn(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Tn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function Vn(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Gn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Kn=e=>!Pn(e)&&e!==Gn;const Qn=(Yn="undefined"!==typeof Uint8Array&&wn(Uint8Array),e=>Yn&&e instanceof Yn);var Yn;const Jn=jn("HTMLFormElement"),Xn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Zn=jn("RegExp"),er=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Hn(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)};const tr=jn("AsyncFunction"),nr=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Gn.addEventListener("message",e=>{let{source:t,data:a}=e;t===Gn&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Gn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,On(Gn.postMessage)),rr="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Gn):"undefined"!==typeof process&&process.nextTick||nr,ar={isArray:Tn,isArrayBuffer:_n,isBuffer:function(e){return null!==e&&!Pn(e)&&null!==e.constructor&&!Pn(e.constructor)&&On(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||On(e.append)&&("formdata"===(t=Cn(e))||"object"===t&&On(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_n(e.buffer),t},isString:Rn,isNumber:Ln,isBoolean:e=>!0===e||!1===e,isObject:Mn,isPlainObject:Dn,isReadableStream:Bn,isRequest:$n,isResponse:Wn,isHeaders:qn,isUndefined:Pn,isDate:An,isFile:Un,isBlob:In,isRegExp:Zn,isFunction:On,isStream:e=>Mn(e)&&On(e.pipe),isURLSearchParams:zn,isTypedArray:Qn,isFileList:Fn,forEach:Hn,merge:function e(){const{caseless:t}=Kn(this)&&this||{},n={},r=(r,a)=>{const o=t&&Vn(n,a)||a;Dn(n[o])&&Dn(r)?n[o]=e(n[o],r):Dn(r)?n[o]=e({},r):Tn(r)?n[o]=r.slice():n[o]=r};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Hn(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Hn(t,(t,r)=>{n&&On(t)?e[r]=bn(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,s;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)s=a[o],r&&!r(s,e,t)||i[s]||(t[s]=e[s],i[s]=!0);e=!1!==n&&wn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Cn,kindOfTest:jn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Tn(e))return e;let t=e.length;if(!Ln(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[kn]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Jn,hasOwnProperty:Xn,hasOwnProp:Xn,reduceDescriptors:er,freezeMethods:e=>{er(e,(t,n)=>{if(On(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];On(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Tn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Vn,global:Gn,isContextDefined:Kn,isSpecCompliantForm:function(e){return!!(e&&On(e.append)&&"FormData"===e[Sn]&&e[kn])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Mn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=Tn(e)?[]:{};return Hn(e,(e,t)=>{const o=n(e,r+1);!Pn(o)&&(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:tr,isThenable:e=>e&&(Mn(e)||On(e))&&On(e.then)&&On(e.catch),setImmediate:nr,asap:rr,isIterable:e=>null!=e&&On(e[kn])};function or(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ar.inherits(or,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ar.toJSONObject(this.config),code:this.code,status:this.status}}});const sr=or.prototype,ir={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ir[e]={value:e}}),Object.defineProperties(or,ir),Object.defineProperty(sr,"isAxiosError",{value:!0}),or.from=(e,t,n,r,a,o)=>{const s=Object.create(sr);return ar.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),or.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const lr=or;function ur(e){return ar.isPlainObject(e)||ar.isArray(e)}function cr(e){return ar.endsWith(e,"[]")?e.slice(0,-2):e}function dr(e,t,n){return e?e.concat(t).map(function(e,t){return e=cr(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const fr=ar.toFlatObject(ar,{},null,function(e){return/^is[A-Z]/.test(e)});const hr=function(e,t,n){if(!ar.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ar.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ar.isUndefined(t[e])})).metaTokens,a=n.visitor||u,o=n.dots,s=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ar.isSpecCompliantForm(t);if(!ar.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ar.isDate(e))return e.toISOString();if(ar.isBoolean(e))return e.toString();if(!i&&ar.isBlob(e))throw new lr("Blob is not supported. Use a Buffer instead.");return ar.isArrayBuffer(e)||ar.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(ar.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ar.isArray(e)&&function(e){return ar.isArray(e)&&!e.some(ur)}(e)||(ar.isFileList(e)||ar.endsWith(n,"[]"))&&(i=ar.toArray(e)))return n=cr(n),i.forEach(function(e,r){!ar.isUndefined(e)&&null!==e&&t.append(!0===s?dr([n],r,o):null===s?n:n+"[]",l(e))}),!1;return!!ur(e)||(t.append(dr(a,n,o),l(e)),!1)}const c=[],d=Object.assign(fr,{defaultVisitor:u,convertValue:l,isVisitable:ur});if(!ar.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ar.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),ar.forEach(n,function(n,o){!0===(!(ar.isUndefined(n)||null===n)&&a.call(t,n,ar.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),c.pop()}}(e),t};function pr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function mr(e,t){this._pairs=[],e&&hr(e,this,t)}const gr=mr.prototype;gr.append=function(e,t){this._pairs.push([e,t])},gr.toString=function(e){const t=e?function(t){return e.call(this,t,pr)}:pr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const vr=mr;function yr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function br(e,t,n){if(!t)return e;const r=n&&n.encode||yr;ar.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):ar.isURLSearchParams(t)?t.toString():new vr(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const xr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ar.forEach(this.handlers,function(t){null!==t&&e(t)})}},wr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:vr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Sr="undefined"!==typeof window&&"undefined"!==typeof document,Cr="object"===typeof navigator&&navigator||void 0,Nr=Sr&&(!Cr||["ReactNative","NativeScript","NS"].indexOf(Cr.product)<0),jr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Er=Sr&&window.location.href||"http://localhost",Tr={...r,...kr};const Pr=function(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),i=a>=e.length;if(o=!o&&ar.isArray(r)?r.length:o,i)return ar.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&ar.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],a)&&ar.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(ar.isFormData(e)&&ar.isFunction(e.entries)){const n={};return ar.forEachEntry(e,(e,r)=>{t(function(e){return ar.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const _r={transitional:wr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=ar.isObject(e);a&&ar.isHTMLForm(e)&&(e=new FormData(e));if(ar.isFormData(e))return r?JSON.stringify(Pr(e)):e;if(ar.isArrayBuffer(e)||ar.isBuffer(e)||ar.isStream(e)||ar.isFile(e)||ar.isBlob(e)||ar.isReadableStream(e))return e;if(ar.isArrayBufferView(e))return e.buffer;if(ar.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return hr(e,new Tr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Tr.isNode&&ar.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=ar.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return hr(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(ar.isString(e))try{return(t||JSON.parse)(e),ar.trim(e)}catch(xt){if("SyntaxError"!==xt.name)throw xt}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||_r.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ar.isResponse(e)||ar.isReadableStream(e))return e;if(e&&ar.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(xt){if(n){if("SyntaxError"===xt.name)throw lr.from(xt,lr.ERR_BAD_RESPONSE,this,null,this.response);throw xt}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tr.classes.FormData,Blob:Tr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ar.forEach(["delete","get","head","post","put","patch"],e=>{_r.headers[e]={}});const Rr=_r,Or=ar.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lr=Symbol("internals");function Mr(e){return e&&String(e).trim().toLowerCase()}function Dr(e){return!1===e||null==e?e:ar.isArray(e)?e.map(Dr):String(e)}function Ar(e,t,n,r,a){return ar.isFunction(r)?r.call(this,t,n):(a&&(t=n),ar.isString(t)?ar.isString(r)?-1!==t.indexOf(r):ar.isRegExp(r)?r.test(t):void 0:void 0)}class Ur{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Mr(t);if(!a)throw new Error("header name must be a non-empty string");const o=ar.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Dr(e))}const o=(e,t)=>ar.forEach(e,(e,n)=>a(e,n,t));if(ar.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ar.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Or[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(ar.isObject(e)&&ar.isIterable(e)){let n,r,a={};for(const t of e){if(!ar.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?ar.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Mr(e)){const n=ar.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ar.isFunction(t))return t.call(this,e,n);if(ar.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mr(e)){const n=ar.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ar(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Mr(e)){const a=ar.findKey(n,e);!a||t&&!Ar(0,n[a],a,t)||(delete n[a],r=!0)}}return ar.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Ar(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return ar.forEach(this,(r,a)=>{const o=ar.findKey(n,a);if(o)return t[o]=Dr(r),void delete t[a];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();s!==a&&delete t[a],t[s]=Dr(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ar.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ar.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Lr]=this[Lr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Mr(e);t[r]||(!function(e,t){const n=ar.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return ar.isArray(e)?e.forEach(r):r(e),this}}Ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ar.reduceDescriptors(Ur.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),ar.freezeMethods(Ur);const Ir=Ur;function Fr(e,t){const n=this||Rr,r=t||n,a=Ir.from(r.headers);let o=r.data;return ar.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function zr(e){return!(!e||!e.__CANCEL__)}function Br(e,t,n){lr.call(this,null==e?"canceled":e,lr.ERR_CANCELED,t,n),this.name="CanceledError"}ar.inherits(Br,lr,{__CANCEL__:!0});const $r=Br;function Wr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new lr("Request failed with status code "+n.status,[lr.ERR_BAD_REQUEST,lr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const qr=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,s=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),u=r[s];a||(a=l),n[o]=i,r[o]=l;let c=s,d=0;for(;c!==o;)d+=n[c++],c%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-a<t)return;const f=u&&l-u;return f?Math.round(1e3*d/f):void 0}};const Hr=function(e,t){let n,r,a=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];t>=o?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},o-t)))},()=>n&&s(n)]},Vr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=qr(50,250);return Hr(n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,i=o-r,l=a(i);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:i,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},Gr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Kr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ar.asap(()=>e(...n))},Qr=Tr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Tr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Tr.origin),Tr.navigator&&/(msie|trident)/i.test(Tr.navigator.userAgent)):()=>!0,Yr=Tr.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const s=[e+"="+encodeURIComponent(t)];ar.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ar.isString(r)&&s.push("path="+r),ar.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Jr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xr=e=>e instanceof Ir?{...e}:e;function Zr(e,t){t=t||{};const n={};function r(e,t,n,r){return ar.isPlainObject(e)&&ar.isPlainObject(t)?ar.merge.call({caseless:r},e,t):ar.isPlainObject(t)?ar.merge({},t):ar.isArray(t)?t.slice():t}function a(e,t,n,a){return ar.isUndefined(t)?ar.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function o(e,t){if(!ar.isUndefined(t))return r(void 0,t)}function s(e,t){return ar.isUndefined(t)?ar.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t,n)=>a(Xr(e),Xr(t),0,!0)};return ar.forEach(Object.keys(Object.assign({},e,t)),function(r){const o=l[r]||a,s=o(e[r],t[r],r);ar.isUndefined(s)&&o!==i||(n[r]=s)}),n}const ea=e=>{const t=Zr({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Ir.from(i),t.url=br(Jr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ar.isFormData(r))if(Tr.hasStandardBrowserEnv||Tr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Tr.hasStandardBrowserEnv&&(a&&ar.isFunction(a)&&(a=a(t)),a||!1!==a&&Qr(t.url))){const e=o&&s&&Yr.read(s);e&&i.set(o,e)}return t},ta="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=ea(e);let a=r.data;const o=Ir.from(r.headers).normalize();let s,i,l,u,c,{responseType:d,onUploadProgress:f,onDownloadProgress:h}=r;function p(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ir.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Wr(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new lr("Request aborted",lr.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new lr("Network Error",lr.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||wr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new lr(t,a.clarifyTimeoutError?lr.ETIMEDOUT:lr.ECONNABORTED,e,m)),m=null},void 0===a&&o.setContentType(null),"setRequestHeader"in m&&ar.forEach(o.toJSON(),function(e,t){m.setRequestHeader(t,e)}),ar.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),h&&([l,c]=Vr(h,!0),m.addEventListener("progress",l)),f&&m.upload&&([i,u]=Vr(f),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new $r(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===Tr.protocols.indexOf(v)?n(new lr("Unsupported protocol "+v+":",lr.ERR_BAD_REQUEST,e)):m.send(a||null)})},na=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof lr?t:new $r(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,a(new lr(`timeout ${t} of ms exceeded`,lr.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=r;return i.unsubscribe=()=>ar.asap(s),i}},ra=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},aa=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},oa=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of aa(e))yield*ra(n,t)}(e,t);let o,s=0,i=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return i(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},sa="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ia=sa&&"function"===typeof ReadableStream,la=sa&&("function"===typeof TextEncoder?(ua=new TextEncoder,e=>ua.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ua;const ca=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(xt){return!1}},da=ia&&ca(()=>{let e=!1;const t=new Request(Tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),fa=ia&&ca(()=>ar.isReadableStream(new Response("").body)),ha={stream:fa&&(e=>e.body)};var pa;sa&&(pa=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ha[e]&&(ha[e]=ar.isFunction(pa[e])?t=>t[e]():(t,n)=>{throw new lr(`Response type '${e}' is not supported`,lr.ERR_NOT_SUPPORT,n)})}));const ma=async(e,t)=>{const n=ar.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ar.isBlob(e))return e.size;if(ar.isSpecCompliantForm(e)){const t=new Request(Tr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ar.isArrayBufferView(e)||ar.isArrayBuffer(e)?e.byteLength:(ar.isURLSearchParams(e)&&(e+=""),ar.isString(e)?(await la(e)).byteLength:void 0)})(t):n},ga=sa&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:s,onDownloadProgress:i,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=ea(e);u=u?(u+"").toLowerCase():"text";let h,p=na([a,o&&o.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&da&&"get"!==n&&"head"!==n&&0!==(g=await ma(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(ar.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=Gr(g,Vr(Kr(l)));r=oa(n.body,65536,e,t)}}ar.isString(d)||(d=d?"include":"omit");const a="credentials"in Request.prototype;h=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:a?d:void 0});let o=await fetch(h,f);const s=fa&&("stream"===u||"response"===u);if(fa&&(i||s&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=ar.toFiniteNumber(o.headers.get("content-length")),[n,r]=i&&Gr(t,Vr(Kr(i),!0))||[];o=new Response(oa(o.body,65536,n,()=>{r&&r(),m&&m()}),e)}u=u||"text";let v=await ha[ar.findKey(ha,u)||"text"](o,e);return!s&&m&&m(),await new Promise((t,n)=>{Wr(t,n,{data:v,headers:Ir.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:h})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new lr("Network Error",lr.ERR_NETWORK,e,h),{cause:v.cause||v});throw lr.from(v,v&&v.code,e,h)}}),va={http:null,xhr:ta,fetch:ga};ar.forEach(va,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(xt){}Object.defineProperty(e,"adapterName",{value:t})}});const ya=e=>`- ${e}`,ba=e=>ar.isFunction(e)||null===e||!1===e,xa=e=>{e=ar.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!ba(n)&&(r=va[(t=String(n)).toLowerCase()],void 0===r))throw new lr(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+o]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(ya).join("\n"):" "+ya(e[0]):"as no adapter specified";throw new lr("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function wa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $r(null,e)}function ka(e){wa(e),e.headers=Ir.from(e.headers),e.data=Fr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return xa(e.adapter||Rr.adapter)(e).then(function(t){return wa(e),t.data=Fr.call(e,e.transformResponse,t),t.headers=Ir.from(t.headers),t},function(t){return zr(t)||(wa(e),t&&t.response&&(t.response.data=Fr.call(e,e.transformResponse,t.response),t.response.headers=Ir.from(t.response.headers))),Promise.reject(t)})}const Sa="1.10.0",Ca={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ca[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Na={};Ca.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Sa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new lr(r(a," has been removed"+(t?" in "+t:"")),lr.ERR_DEPRECATED);return t&&!Na[a]&&(Na[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},Ca.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const ja={assertOptions:function(e,t,n){if("object"!==typeof e)throw new lr("options must be an object",lr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new lr("option "+o+" must be "+n,lr.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new lr("Unknown option "+o,lr.ERR_BAD_OPTION)}},validators:Ca},Ea=ja.validators;class Ta{constructor(e){this.defaults=e||{},this.interceptors={request:new xr,response:new xr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(xt){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Zr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&ja.assertOptions(n,{silentJSONParsing:Ea.transitional(Ea.boolean),forcedJSONParsing:Ea.transitional(Ea.boolean),clarifyTimeoutError:Ea.transitional(Ea.boolean)},!1),null!=r&&(ar.isFunction(r)?t.paramsSerializer={serialize:r}:ja.assertOptions(r,{encode:Ea.function,serialize:Ea.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ja.assertOptions(t,{baseUrl:Ea.spelling("baseURL"),withXsrfToken:Ea.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&ar.merge(a.common,a[t.method]);a&&ar.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ir.concat(o,a);const s=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let u;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!i){const e=[ka.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=s.length;let f=t;for(d=0;d<c;){const e=s[d++],t=s[d++];try{f=e(f)}catch(h){t.call(this,h);break}}try{u=ka.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return br(Jr((e=Zr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ar.forEach(["delete","get","head","options"],function(e){Ta.prototype[e]=function(t,n){return this.request(Zr(n||{},{method:e,url:t,data:(n||{}).data}))}}),ar.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Zr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ta.prototype[e]=t(),Ta.prototype[e+"Form"]=t(!0)});const Pa=Ta;class _a{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new $r(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new _a(function(t){e=t});return{token:t,cancel:e}}}const Ra=_a;const Oa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oa).forEach(e=>{let[t,n]=e;Oa[n]=t});const La=Oa;const Ma=function e(t){const n=new Pa(t),r=bn(Pa.prototype.request,n);return ar.extend(r,Pa.prototype,n,{allOwnKeys:!0}),ar.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Zr(t,n))},r}(Rr);Ma.Axios=Pa,Ma.CanceledError=$r,Ma.CancelToken=Ra,Ma.isCancel=zr,Ma.VERSION=Sa,Ma.toFormData=hr,Ma.AxiosError=lr,Ma.Cancel=Ma.CanceledError,Ma.all=function(e){return Promise.all(e)},Ma.spread=function(e){return function(t){return e.apply(null,t)}},Ma.isAxiosError=function(e){return ar.isObject(e)&&!0===e.isAxiosError},Ma.mergeConfig=Zr,Ma.AxiosHeaders=Ir,Ma.formToJSON=e=>Pr(ar.isHTMLForm(e)?new FormData(e):e),Ma.getAdapter=xa,Ma.HttpStatusCode=La,Ma.default=Ma;const Da=Ma,Aa=e=>[/^192\.168\.\d{1,3}\.\d{1,3}$/,/^10\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,/^172\.(1[6-9]|2[0-9]|3[01])\.\d{1,3}\.\d{1,3}$/].some(t=>t.test(e)),Ua=()=>{var e;if("undefined"!==typeof window&&null!==(e=window._env_)&&void 0!==e&&e.REACT_APP_API_URL){const e=window._env_.REACT_APP_API_URL;return console.log("\ud83c\udf10 Using runtime API base URL:",e),e}if({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_API_URL&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_API_URL.trim())return console.log("\ud83c\udf10 Using build-time API base URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_API_URL),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_API_URL;const t=window.location.hostname;return"localhost"===t||t.startsWith("192.168")||t.startsWith("10.")||t.startsWith("172.")?Aa(t)?(console.log("\ud83c\udf10 Using local IP API base URL:",`http://${t}:8080`),`http://${t}:8080`):(console.log("\ud83c\udf10 Using localhost API base URL for development"),"http://localhost:8080"):(console.log("\ud83c\udf10 Using relative API base URL for single service deployment"),"")};const Ia=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prefix=void 0,this.encrypt=void 0,this.prefix=e.prefix||"chat_secure_",this.encrypt=e.encrypt||!1}setToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.prefix+"token",r=t?localStorage:sessionStorage;try{const a=this.encrypt?this.simpleEncrypt(e):e;r.setItem(n,a);const o={timestamp:Date.now(),persistent:t,fingerprint:this.generateFingerprint()};r.setItem(n+"_meta",JSON.stringify(o)),console.debug("Token stored securely",{persistent:t,encrypted:this.encrypt})}catch(a){throw console.error("Failed to store token:",a),new Error("Token storage failed")}}getToken(){const e=this.prefix+"token";try{let t=sessionStorage.getItem(e),n=sessionStorage.getItem(e+"_meta");if(t||(t=localStorage.getItem(e),n=localStorage.getItem(e+"_meta")),!t)return null;if(n){const e=JSON.parse(n),t=864e5;if(Date.now()-e.timestamp>t)return console.warn("Token expired by age, removing"),this.removeToken(),null;const r=this.generateFingerprint();if(e.fingerprint&&e.fingerprint!==r)return console.warn("Token fingerprint mismatch - security environment changed, requiring re-authentication"),console.warn("\ud83d\udd12 Stored fingerprint:",e.fingerprint),console.warn("\ud83d\udd12 Current fingerprint:",r),this.markTokenRemovedForSecurity(),this.removeToken(),null}return this.encrypt?this.simpleDecrypt(t):t}catch(t){return console.error("Failed to retrieve token:",t),this.removeToken(),null}}removeToken(){const e=this.prefix+"token";try{sessionStorage.removeItem(e),sessionStorage.removeItem(e+"_meta"),localStorage.removeItem(e),localStorage.removeItem(e+"_meta"),console.debug("Token removed from secure storage")}catch(t){console.error("Failed to remove token:",t)}}hasToken(){const e=this.prefix+"token";return!(!sessionStorage.getItem(e)&&!localStorage.getItem(e))}clearAll(){try{for(let e=sessionStorage.length-1;e>=0;e--){const t=sessionStorage.key(e);t&&t.startsWith(this.prefix)&&sessionStorage.removeItem(t)}for(let e=localStorage.length-1;e>=0;e--){const t=localStorage.key(e);t&&t.startsWith(this.prefix)&&localStorage.removeItem(t)}console.debug("All secure storage cleared")}catch(e){console.error("Failed to clear secure storage:",e)}}markTokenRemovedForSecurity(){try{const e=this.prefix+"security_logout";sessionStorage.setItem(e,"true")}catch(e){console.error("Failed to set security logout flag:",e)}}wasTokenRemoved(){try{const e=this.prefix+"security_logout";return"true"===sessionStorage.getItem(e)}catch(e){return console.error("Failed to check security logout flag:",e),!1}}clearSecurityFlag(){try{const e=this.prefix+"security_logout";sessionStorage.removeItem(e)}catch(e){console.error("Failed to clear security logout flag:",e)}}generateFingerprint(){const e=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,window.location.hostname],t=e.join("|"),n=this.simpleHash(t);return console.debug("\ud83d\udd12 Fingerprint components:",e),console.debug("\ud83d\udd12 Generated fingerprint hash:",n),n}simpleHash(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t.toString(16)}simpleEncrypt(e){const t="chatSecureKey2024";let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%17));return btoa(n)}simpleDecrypt(e){try{const t="chatSecureKey2024",n=atob(e);let r="";for(let e=0;e<n.length;e++)r+=String.fromCharCode(n.charCodeAt(e)^t.charCodeAt(e%t.length));return r}catch(t){throw new Error("Token decryption failed")}}}({encrypt:!0,prefix:"chat_app_"}),Fa=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ia.setToken(e,t)},za=()=>Ia.getToken(),Ba=()=>Ia.removeToken(),$a=()=>Ia.wasTokenRemoved(),Wa=()=>Ia.clearSecurityFlag();window.addEventListener("beforeunload",()=>{sessionStorage.getItem("chat_app_token")&&console.debug("Clearing session token on page unload")}),window.addEventListener("error",e=>{e.error&&e.error.message&&e.error.message.includes("script")&&e.error.message.includes("blocked")&&(console.warn("Potential XSS detected, clearing tokens for security"),Ia.clearAll())});var qa=n(579);const Ha=(0,o.createContext)(null),Va=()=>{const e=(0,o.useContext)(Ha);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Ga=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(null),[a,s]=(0,o.useState)(null),[i,l]=(0,o.useState)(!0),[u,c]=(0,o.useState)(!1),d=Ua();(0,o.useEffect)(()=>{const e=za();null===e&&$a()&&c(!0),s(e)},[]),(0,o.useEffect)(()=>{a?Da.get(`${d}/api/auth/me`,{headers:{Authorization:`Bearer ${a}`}}).then(e=>{const t=e.data;if(t.success&&t.data){const e={id:t.data.id,username:t.data.username,email:t.data.email,displayName:t.data.displayName,avatarUrl:void 0};r(e)}else Ba(),s(null)}).catch(()=>{$a()&&c(!0),Ba(),s(null)}).finally(()=>{l(!1)}):l(!1)},[a,d]);return(0,qa.jsx)(Ha.Provider,{value:{user:n,token:a,login:async(e,t)=>{try{const n=(await Da.post(`${d}/api/auth/login`,{email:e,password:t})).data;if(!n.success||!n.data)throw yn.error(n.message||"Login failed"),new Error(n.message||"Login failed");{const{token:e,user:t}=n.data,a={id:t.id,username:t.username,email:t.email,displayName:t.displayName,avatarUrl:void 0};Fa(e,!1),s(e),r(a),yn.success(n.message||"Login successful")}}catch(o){var n,a;const e=(null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||o.message||"Login failed";throw yn.error(e),o}},register:async(e,t,n,a)=>{try{const o=(await Da.post(`${d}/api/auth/register`,{username:e,email:t,password:n,displayName:a})).data;if(!o.success||!o.data)throw yn.error(o.message||"Registration failed"),new Error(o.message||"Registration failed");{const{token:e,user:t}=o.data,n={id:t.id,username:t.username,email:t.email,displayName:t.displayName,avatarUrl:void 0};Fa(e,!1),s(e),r(n),yn.success(o.message||"Registration successful")}}catch(l){var o,i;const e=(null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||l.message||"Registration failed";throw yn.error(e),l}},logout:async()=>{try{if(a){const e=(await Da.post(`${d}/api/auth/logout`,{},{headers:{Authorization:`Bearer ${a}`}})).data;e.success&&yn.success(e.message||"Logged out successfully")}}catch(e){console.warn("Logout request failed:",e)}finally{Ba(),s(null),r(null);try{sessionStorage.removeItem("cached_conversations"),sessionStorage.removeItem("recent_messages"),console.log("\ud83e\uddf9 Cleared all cached data on logout")}catch(e){console.warn("Failed to clear cache on logout:",e)}a||yn.success("Logged out successfully")}},isLoading:i,securityLogout:u,dismissSecurityNotification:()=>{c(!1),Wa()}},children:t})},Ka=Ua(),Qa={async fetchConversationMessages(e,t){try{console.log(`Fetching messages for conversation: ${e}`);const n=await fetch(`${Ka}/api/messages/conversations/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok){const e=await n.json().catch(()=>({error:"Unknown error"}));throw console.error(`Failed to fetch messages: ${n.status}`,e),new Error(e.error||`HTTP ${n.status}`)}const r=await n.json();return console.log(`Fetched ${r.length} messages for conversation: ${e}`),r}catch(n){return console.error("Error fetching conversation messages:",n),[]}},async fetchRecentMessages(e){try{console.log("Fetching recent messages...");const t=await fetch(`${Ka}/api/messages/recent`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw console.error(`Failed to fetch recent messages: ${t.status}`,e),new Error(e.error||`HTTP ${t.status}`)}const n=await t.json();return console.log(`Fetched ${n.length} recent messages`),n}catch(t){return console.error("Error fetching recent messages:",t),[]}},async fetchMessagesSince(e,t,n){try{const r=await fetch(`${Ka}/api/messages/conversations/${e}/since/${t}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch messages since ${t}: ${r.status}`);return await r.json()}catch(r){return console.error("Error fetching messages since timestamp:",r),[]}}},Ya=(0,o.createContext)(null),Ja=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(null),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)([]),[u,c]=(0,o.useState)(!1),[d,f]=(0,o.useState)(!1),[h,p]=(0,o.useState)(!1),[m,g]=(0,o.useState)(null),[v,y]=(0,o.useState)(!1),[b,x]=(0,o.useState)(!1),[w,k]=(0,o.useState)(new Set),[S,C]=(0,o.useState)(0),[N,j]=(0,o.useState)(!1),{user:E,token:T}=Va(),P=(0,o.useCallback)(()=>{if(d||!E||!T)return;if(S>=8)return console.log("Max reconnection attempts reached"),j(!1),void yn.error("Unable to reconnect to chat server. Please refresh the page.");const e=300*Math.pow(2,S);console.log(`Attempting to reconnect in ${e}ms (attempt ${S+1}/8)`),j(!0),C(e=>e+1),setTimeout(()=>{d||a||(console.log("Executing reconnection attempt"),r(null))},e)},[S,d,E,T,a]);(0,o.useEffect)(()=>{if(!E||!T||u)return;(async()=>{try{console.log("\ud83d\udd04 Loading initial messages...");const t=!0;if(t)try{const e=sessionStorage.getItem("recent_messages");if(e){const t=JSON.parse(e);if(Date.now()-t.timestamp<12e4)return console.log("\ud83d\udce6 Using cached recent messages for instant load"),l(t.data),void c(!0);console.log("\ud83d\udce6 Cache expired, loading fresh messages")}}catch(e){console.warn("Failed to load cached messages:",e)}else console.log("\ud83d\udce6 Cache disabled, loading fresh messages");const n=await Qa.fetchRecentMessages(T);if(console.log(`\u2705 Loaded ${n.length} recent messages`),l(n),c(!0),t)try{sessionStorage.setItem("recent_messages",JSON.stringify({data:n,timestamp:Date.now()}))}catch(e){console.warn("Failed to cache messages:",e)}console.log("Initial recent messages loaded on component mount")}catch(e){console.error("Error loading initial messages:",e)}})()},[E,T,u]),(0,o.useEffect)(()=>{if(!E||!T)return void console.log("WebSocket not connecting: missing user or token",{user:!!E,token:!!T});if(n&&(n.readyState===WebSocket.OPEN||n.readyState===WebSocket.CONNECTING))return void console.log("WebSocket already connected/connecting, skipping new connection");!n||n.readyState!==WebSocket.CLOSED&&n.readyState!==WebSocket.CLOSING||(console.log("Cleaning up closed WebSocket connection"),r(null));const e=`${(()=>{var e;if("undefined"!==typeof window&&null!==(e=window._env_)&&void 0!==e&&e.REACT_APP_WS_URL){const e=window._env_.REACT_APP_WS_URL;return console.log("\ud83d\udd0c Using runtime WebSocket URL:",e),e}if({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_WS_URL&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_WS_URL.trim())return console.log("\ud83d\udd0c Using build-time WebSocket URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_WS_URL),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_WS_URL;const t=window.location.hostname;if(Aa(t)){const e=`ws://${t}:8080`;return console.log("\ud83d\udd0c Using local IP WebSocket URL:",e),e}const n=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}`;return console.log("\ud83d\udd0c Using single-service WebSocket URL:",n),n})()}/ws/chat?token=${T}`;console.log("Attempting WebSocket connection to:",e),console.log("User info:",{id:E.id,username:E.username}),console.log("Token (first 20 chars):",T.substring(0,20)+"...");const t=new WebSocket(e);return t.onopen=async()=>{console.log("WebSocket connected successfully"),s(!0),f(!1),y(!0),C(0),j(!1),S>0?yn.success("Reconnected to chat server"):h||(yn.success("Connected to chat server"),p(!0)),console.log("WebSocket connected - messages already loaded, skipping duplicate load")},t.onclose=e=>{console.log("WebSocket closed:",{code:e.code,reason:e.reason,wasClean:e.wasClean}),s(!1),d||p(!1),!d&&v&&1e3!==e.code&&1001!==e.code&&(0===S&&yn.error("Disconnected from chat server. Attempting to reconnect..."),P())},t.onmessage=e=>{try{const a=JSON.parse(e.data);if("ack"===a.type)console.log("Message acknowledged:",a.messageId);else if("error"===a.type)yn.error(a.message);else if("ping"===a.type){console.log("Received ping from server, sending pong");try{const e=JSON.stringify({type:"pong",timestamp:a.timestamp});t.send(e)}catch(r){console.error("Error sending pong response:",r)}}else if("MESSAGE_DELIVERED"===a.type||"MESSAGE_READ"===a.type){console.log("Received message status update:",a);const e=a.data;l(t=>t.map(t=>{if(t.id===e.messageId){const n={...t};return"MESSAGE_DELIVERED"===a.type?n.deliveredTo={...n.deliveredTo,[e.userId]:e.timestamp}:"MESSAGE_READ"===a.type&&(n.deliveredTo={...n.deliveredTo,[e.userId]:e.timestamp},n.readBy={...n.readBy,[e.userId]:e.timestamp}),n}return t}))}else{var n;const e=a;console.log("Received message:",{id:e.id,senderId:e.senderId,senderUsername:e.senderUsername,content:(null===(n=e.content)||void 0===n?void 0:n.substring(0,50))+"...",timestamp:e.timestamp}),!e.senderUsername&&e.senderId&&console.warn("Message missing senderUsername, using senderId as fallback"),l(t=>{if(t.some(t=>t.id===e.id))return console.log("Duplicate message detected, skipping:",e.id),t;return[...t,e].sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())})}}catch(r){console.error("Error parsing WebSocket message:",r)}},t.onerror=n=>{console.error("WebSocket error:",n),console.error("WebSocket readyState:",t.readyState),console.error("WebSocket URL:",e),!d&&v&&console.warn("WebSocket error after successful connection - may need to reconnect")},r(t),()=>{f(!0),t.readyState!==WebSocket.OPEN&&t.readyState!==WebSocket.CONNECTING||t.close()}},[null===E||void 0===E?void 0:E.id,T]);return(0,qa.jsx)(Ya.Provider,{value:{socket:n,isConnected:a,sendMessage:e=>{if(n&&a){const t=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=e.content.trim(),a=Date.now();if(m&&m.content===r&&a-m.timestamp<1e3)return void console.log("Preventing rapid duplicate message send");const o={...e,id:t,content:r,timestamp:(new Date).toISOString()};g({content:r,timestamp:a}),console.log("Sending message:",{id:t,content:r.substring(0,50)}),n.send(JSON.stringify(o))}},sendMessageStatusUpdate:e=>{if(n&&a){const t={type:"DELIVERED"===e.statusType?"MESSAGE_DELIVERED":"MESSAGE_READ",data:{...e,timestamp:(new Date).toISOString()}};console.log("Sending message status update:",t),n.send(JSON.stringify(t))}},messages:i,loadConversationMessages:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!E||!T)return void console.log("Skipping conversation load: missing user or token",{user:!!E,token:!!T});if(!t&&w.has(e))return void console.log("Conversation already loaded, skipping:",e);const n=`conversation_messages_${e}`;if(!t)try{const t=sessionStorage.getItem(n);if(t){const n=JSON.parse(t);if(Date.now()-n.timestamp<3e4)return console.log(`\ud83d\udce6 Using cached messages for conversation ${e}`),l(t=>[...t.filter(t=>t.conversationId!==e),...n.data].sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())),void k(t=>{const n=new Set(t);return n.add(e),n})}}catch(r){console.warn(`Failed to load cached conversation ${e}:`,r)}x(!0);try{console.log(`\ud83d\udd04 Loading messages for conversation: ${e}`);const t=await Qa.fetchConversationMessages(e,T);console.log(`\u2705 Fetched ${t.length} messages for conversation: ${e}`);try{sessionStorage.setItem(n,JSON.stringify({data:t,timestamp:Date.now()}))}catch(r){console.warn(`Failed to cache conversation ${e}:`,r)}l(n=>{console.log(`\ud83d\udcdd Before update: ${n.length} total messages, ${n.filter(t=>t.conversationId===e).length} from this conversation`);const r=n.filter(t=>t.conversationId!==e);console.log(`\ud83d\uddd1\ufe0f After filtering out conversation ${e}: ${r.length} messages remaining`);const a=[...r,...t];console.log(`\u2795 After adding new messages: ${a.length} total messages`);const o=a.sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime());return console.log(`\ud83d\udd04 After sorting: ${o.length} messages, conversation ${e} has ${o.filter(t=>t.conversationId===e).length} messages`),o}),k(t=>{const n=new Set(t);return n.add(e),console.log(`\ud83d\udcda Marked conversation ${e} as loaded. Total loaded: ${n.size}`),n})}catch(r){console.error(`\u274c Error loading messages for conversation ${e}:`,r)}finally{x(!1)}},isLoadingMessages:b,isReconnecting:N,reconnectAttempts:S,clearMessagesCache:()=>{console.log("\ud83e\uddf9 Clearing all message caches and reloading"),l([]),c(!1),k(new Set);try{sessionStorage.removeItem("recent_messages");Object.keys(sessionStorage).forEach(e=>{e.startsWith("conversation_messages_")&&sessionStorage.removeItem(e)}),console.log("\u2705 Cleared all message caches")}catch(e){console.warn("Failed to clear message caches:",e)}}},children:t})},Xa=(0,o.createContext)(void 0),Za=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(()=>{const e=localStorage.getItem("theme");return e&&["light","dark"].includes(e)?e:"light"});(0,o.useEffect)(()=>{const e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(n),localStorage.setItem("theme",n)},[n]);return(0,qa.jsx)(Xa.Provider,{value:{theme:n,setTheme:e=>{r(e)},toggleTheme:()=>{r("light"===n?"dark":"light")}},children:t})},eo=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(""),[i,l]=(0,o.useState)({username:"",email:"",password:"",displayName:""}),[u,c]=(0,o.useState)(!1),[d,f]=(0,o.useState)(!1),{login:h,register:p,user:m}=Va(),g=Ua();if(m)return(0,qa.jsx)(ye,{to:"/chat",replace:!0});const v=e=>{l({...i,[e.target.name]:e.target.value})};return(0,qa.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:[(0,qa.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:e?"Create Account":"Sign in to Chat Platform"}),(0,qa.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300",children:e?"Join the conversation today":"Welcome back! Please sign in to continue"})]}),(0,qa.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),c(!0);try{e?await p(i.username,i.email,i.password,i.displayName):await h(i.email,i.password)}catch(n){}finally{c(!1)}},children:[(0,qa.jsxs)("div",{className:"rounded-md shadow-sm space-y-4",children:[e&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,qa.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Username",value:i.username,onChange:v})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"displayName",className:"sr-only",children:"Display Name"}),(0,qa.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Display Name",value:i.displayName,onChange:v})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,qa.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Email address",value:i.email,onChange:v})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,qa.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:e?"new-password":"current-password",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Password (minimum 6 characters)",value:i.password,onChange:v,minLength:6})]})]}),(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsx)("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 focus:ring-indigo-500 disabled:opacity-50",children:u?e?"Creating Account...":"Signing in...":e?"Create Account":"Sign in"}),(0,qa.jsxs)("div",{className:"text-center space-y-2",children:[(0,qa.jsx)("button",{type:"button",onClick:()=>t(!e),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 text-sm font-medium",children:e?"Already have an account? Sign in":"Don't have an account? Create one"}),!e&&(0,qa.jsx)("div",{children:(0,qa.jsx)("button",{type:"button",onClick:()=>r(!0),className:"text-gray-600 dark:text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 text-sm",children:"Forgot your password?"})})]})]})]})]}),n&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-gray-600 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full mx-4",children:[(0,qa.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Reset Password"}),(0,qa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{await Da.post(`${g}/api/auth/forgot-password`,a,{headers:{"Content-Type":"application/json"}}),yn.success("Password reset email sent if account exists"),r(!1),s("")}catch(o){var t,n;const e=(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to send reset email";yn.error(e)}finally{f(!1)}},children:[(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("label",{htmlFor:"forgotEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),(0,qa.jsx)("input",{id:"forgotEmail",type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email address",value:a,onChange:e=>s(e.target.value)})]}),(0,qa.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,qa.jsx)("button",{type:"button",onClick:()=>{r(!1),s("")},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),(0,qa.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":"Send Reset Email"})]})]})]})})]})},to=(()=>{var e;if("undefined"!==typeof window&&(console.log("\ud83d\udd0d Runtime env object:",window._env_),console.log("\ud83d\udd0d Build-time env:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_API_BASE_URL)),"undefined"!==typeof window&&null!==(e=window._env_)&&void 0!==e&&e.REACT_APP_API_BASE_URL){const e=window._env_.REACT_APP_API_BASE_URL;return console.log("\ud83c\udf10 Using runtime API base URL:",e),`${e}/api`}const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_BUILD_TIME:"2025-07-31T13:43:10.996Z",REACT_APP_GIT_COMMIT:"ead00ef2ba117fe34276bba7225f0b9675c44681",REACT_APP_GIT_BRANCH:"render-single-service-deployment",REACT_APP_NODE_VERSION:"v24.4.1",REACT_APP_BUILD_ENV:"development"}.REACT_APP_API_BASE_URL;if(t&&t.trim())return console.log("\ud83c\udf10 Using build-time API base URL:",t),`${t}/api`;return console.log("\ud83c\udf10 Using relative API base URL for single service deployment"),"/api"})(),no=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=za(),r=Date.now(),a={"Content-Type":"application/json",...t.headers};n&&(a.Authorization=`Bearer ${n}`),console.log(`\ud83c\udf10 API Request: ${t.method||"GET"} ${e}`,{headers:{...a,Authorization:n?"Bearer [REDACTED]":void 0},body:t.body?JSON.parse(t.body):void 0});try{const n=await fetch(e,{...t,headers:a}),o=Date.now()-r;if(!n.ok)throw console.error(`\u274c API Error: ${t.method||"GET"} ${e}`,{status:n.status,statusText:n.statusText,duration:`${o}ms`}),new Error(`HTTP error! status: ${n.status}`);return console.log(`\u2705 API Success: ${t.method||"GET"} ${e}`,{status:n.status,duration:`${o}ms`}),n}catch(o){const n=Date.now()-r;throw console.error(`\ud83d\udca5 API Exception: ${t.method||"GET"} ${e}`,{error:o instanceof Error?o.message:String(o),duration:`${n}ms`}),o}},ro={get:async e=>{const t=await no(`${to}${e}`);return{data:await t.json()}},post:async(e,t)=>{const n=await no(`${to}${e}`,{method:"POST",body:t?JSON.stringify(t):void 0});return{data:await n.json()}},put:async(e,t)=>{const n=await no(`${to}${e}`,{method:"PUT",body:t?JSON.stringify(t):void 0});return{data:await n.json()}},delete:async e=>{const t=await no(`${to}${e}`,{method:"DELETE"});return{data:t.ok?null:await t.json()}}},ao={user:{getAllUsers:async()=>{console.log("\ud83d\udc65 Getting all users");try{const e=await no(`${to}/users`),t=await e.json();return Array.isArray(t)?(console.log("\u2705 All users retrieved:",t.length,"users"),t):t.data&&Array.isArray(t.data)?(console.log("\u2705 All users retrieved:",t.data.length,"users"),t.data):(console.log("\u2705 All users retrieved:",t.length||0,"users"),t)}catch(e){throw console.error("Failed to fetch users:",e),e}},searchUsers:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;console.log("\ud83d\udd0d Searching users:",{query:e,page:t,size:n});const r=new URLSearchParams({query:e,page:t.toString(),size:n.toString()}),a=await no(`${to}/users/search?${r}`),o=await a.json();return console.log("\u2705 User search results:",o.length,"users found"),o},getUserSuggestions:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;console.log("\ud83d\udca1 Getting user suggestions, limit:",e);const t=new URLSearchParams({limit:e.toString()}),n=await no(`${to}/users/suggestions?${t}`),r=await n.json();return console.log("\u2705 User suggestions:",r.length,"suggestions retrieved"),r},getUserById:async e=>(await no(`${to}/users/${e}`)).json()},conversation:{getUserConversations:async()=>{console.log("\ud83d\udccb Getting user conversations");const e=await no(`${to}/conversations`),t=await e.json();return console.log("\u2705 User conversations retrieved:",t.length,"conversations"),t},getConversationById:async e=>(await no(`${to}/conversations/${e}`)).json(),createDirectConversation:async e=>{console.log("\ud83d\udd04 Creating direct conversation with participant:",e);const t=new URLSearchParams({participantId:e}),n=`${to}/conversations/direct?${t}`,r=await no(n,{method:"POST"}),a=await r.json();return console.log("\u2705 Direct conversation created:",a),a},createGroup:async e=>{console.log("\ud83d\udd04 Creating group:",e);const t=await no(`${to}/conversations/groups`,{method:"POST",body:JSON.stringify(e)}),n=await t.json();return console.log("\u2705 Group created:",n),n},updateGroupSettings:async(e,t)=>{console.log("\ud83d\udd04 Updating group settings:",e,t);const n=await no(`${to}/conversations/${e}/settings`,{method:"PUT",body:JSON.stringify(t)}),r=await n.json();return console.log("\u2705 Group settings updated:",r),r},deleteConversation:async e=>{console.log("\ud83d\udd04 Deleting conversation:",e),await no(`${to}/conversations/${e}`,{method:"DELETE"}),console.log("\u2705 Conversation deleted successfully:",e)},deleteGroup:async e=>{console.log("\ud83d\udd04 Deleting group (legacy):",e),await no(`${to}/conversations/${e}`,{method:"DELETE"}),console.log("\u2705 Group deleted successfully:",e)},addParticipant:async(e,t)=>{const n=new URLSearchParams({participantId:t});await no(`${to}/conversations/${e}/participants?${n}`,{method:"POST"})},removeParticipant:async(e,t)=>{await no(`${to}/conversations/${e}/participants/${t}`,{method:"DELETE"})}},messageSearch:{searchMessages:async function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;const r=new URLSearchParams({query:t,page:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0).toString(),size:n.toString()});return(await no(`${to}/conversations/${e}/search?${r}`)).json()},getMessageContext:async function(e,t){const n=new URLSearchParams({contextSize:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:10).toString()});return(await no(`${to}/conversations/${e}/search/messages/${t}/context?${n}`)).json()}},...ro};let oo=function(e){return e.TEXT="TEXT",e.IMAGE="IMAGE",e.FILE="FILE",e.SYSTEM="SYSTEM",e}({}),so=function(e){return e.PENDING="PENDING",e.SENT="SENT",e.DELIVERED="DELIVERED",e.READ="READ",e}({});function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function lo(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function uo(e){lo(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===io(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function co(e){if(lo(1,arguments),!function(e){return lo(1,arguments),e instanceof Date||"object"===io(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=uo(e);return!isNaN(Number(t))}function fo(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ho(e,t){return lo(2,arguments),function(e,t){lo(2,arguments);var n=uo(e).getTime(),r=fo(t);return new Date(n+r)}(e,-fo(t))}function po(e){lo(1,arguments);var t=uo(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function mo(e){lo(1,arguments);var t=uo(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=po(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=po(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function go(e){lo(1,arguments);var t=uo(e),n=po(t).getTime()-function(e){lo(1,arguments);var t=mo(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),po(n)}(t).getTime();return Math.round(n/6048e5)+1}var vo={};function yo(){return vo}function bo(e,t){var n,r,a,o,s,i,l,u;lo(1,arguments);var c=yo(),d=fo(null!==(n=null!==(r=null!==(a=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(i=s.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=uo(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function xo(e,t){var n,r,a,o,s,i,l,u;lo(1,arguments);var c=uo(e),d=c.getUTCFullYear(),f=yo(),h=fo(null!==(n=null!==(r=null!==(a=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(i=s.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:f.firstWeekContainsDate)&&void 0!==r?r:null===(l=f.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var m=bo(p,t),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var v=bo(g,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function wo(e,t){lo(1,arguments);var n=uo(e),r=bo(n,t).getTime()-function(e,t){var n,r,a,o,s,i,l,u;lo(1,arguments);var c=yo(),d=fo(null!==(n=null!==(r=null!==(a=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(i=s.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),f=xo(e,t),h=new Date(0);return h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0),bo(h,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function ko(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const So={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return ko("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):ko(n+1,2)},d:function(e,t){return ko(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return ko(e.getUTCHours()%12||12,t.length)},H:function(e,t){return ko(e.getUTCHours(),t.length)},m:function(e,t){return ko(e.getUTCMinutes(),t.length)},s:function(e,t){return ko(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return ko(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Co="midnight",No="noon",jo="morning",Eo="afternoon",To="evening",Po="night",_o={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return So.y(e,t)},Y:function(e,t,n,r){var a=xo(e,r),o=a>0?a:1-a;return"YY"===t?ko(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):ko(o,t.length)},R:function(e,t){return ko(mo(e),t.length)},u:function(e,t){return ko(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ko(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ko(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return So.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return ko(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=wo(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):ko(a,t.length)},I:function(e,t,n){var r=go(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):ko(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):So.d(e,t)},D:function(e,t,n){var r=function(e){lo(1,arguments);var t=uo(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):ko(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ko(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ko(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return ko(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?No:0===a?Co:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?To:a>=12?Eo:a>=4?jo:Po,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return So.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):So.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):ko(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):ko(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):So.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):So.s(e,t)},S:function(e,t){return So.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Oo(a);case"XXXX":case"XX":return Lo(a);default:return Lo(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Oo(a);case"xxxx":case"xx":return Lo(a);default:return Lo(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ro(a,":");default:return"GMT"+Lo(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ro(a,":");default:return"GMT"+Lo(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return ko(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return ko((r._originalDate||e).getTime(),t.length)}};function Ro(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(0===o)return n+String(a);var s=t||"";return n+String(a)+s+ko(o,2)}function Oo(e,t){return e%60===0?(e>0?"-":"+")+ko(Math.abs(e)/60,2):Lo(e,t)}function Lo(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+ko(Math.floor(a/60),2)+n+ko(a%60,2)}const Mo=_o;var Do=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ao=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Uo={p:Ao,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return Do(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Do(a,t)).replace("{{time}}",Ao(o,t))}};const Io=Uo;var Fo=["D","DD"],zo=["YY","YYYY"];function Bo(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $o={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Wo=function(e,t,n){var r,a=$o[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qo(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var Ho={date:qo({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:qo({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:qo({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Vo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Go(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Ko(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s,i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(i)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(i)});return s=e.valueCallback?e.valueCallback(u):u,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(i.length)}}}var Qo;const Yo={code:"en-US",formatDistance:Wo,formatLong:Ho,formatRelative:function(e,t,n,r){return Vo[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Go({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Go({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Go({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Go({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Go({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Qo={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Qo.matchPattern);if(!n)return null;var r=n[0],a=e.match(Qo.parsePattern);if(!a)return null;var o=Qo.valueCallback?Qo.valueCallback(a[0]):a[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:Ko({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ko({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ko({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ko({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ko({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Jo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zo=/^'([^]*?)'?$/,es=/''/g,ts=/[a-zA-Z]/;function ns(e,t,n){var r,a,o,s,i,l,u,c,d,f,h,p,m,g,v,y,b,x;lo(2,arguments);var w=String(t),k=yo(),S=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:k.locale)&&void 0!==r?r:Yo,C=fo(null!==(o=null!==(s=null!==(i=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:k.firstWeekContainsDate)&&void 0!==s?s:null===(d=k.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==o?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=fo(null!==(h=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:k.weekStartsOn)&&void 0!==p?p:null===(b=k.locale)||void 0===b||null===(x=b.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==h?h:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var j=uo(e);if(!co(j))throw new RangeError("Invalid time value");var E=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(j),T=ho(j,E),P={firstWeekContainsDate:C,weekStartsOn:N,locale:S,_originalDate:j};return w.match(Xo).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Io[t])(e,S.formatLong):e}).join("").match(Jo).map(function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return function(e){var t=e.match(Zo);if(!t)return e;return t[1].replace(es,"'")}(r);var o,s=Mo[a];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(o=r,-1===zo.indexOf(o))||Bo(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Fo.indexOf(e)}(r)||Bo(r,t,String(e)),s(T,r,S.localize,P);if(a.match(ts))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}const rs=(0,o.memo)(e=>{let{messages:t,currentUserId:n,isLoading:r=!1}=e;const a=(0,o.useRef)(null);return(0,o.useEffect)(()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]),(0,o.useEffect)(()=>{console.log("MessageList render:",{currentUserId:n,messageCount:t.length,sampleMessage:t[0]?{id:t[0].id,senderId:t[0].senderId,senderUsername:t[0].senderUsername,isOwn:t[0].senderId===n}:null})},[t,n]),(0,qa.jsx)("div",{className:"h-full flex flex-col bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:(0,qa.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-1",children:[r&&0===t.length?(0,qa.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),(0,qa.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading messages..."})]})}):0===t.length?(0,qa.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qa.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,qa.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No messages yet. Start the conversation!"})]})}):(0,qa.jsx)(qa.Fragment,{children:t.map((e,t)=>{const r=e.senderId===n;return console.log(`Message ${e.id}: senderId=${e.senderId}, currentUserId=${n}, isOwn=${r}`),(0,qa.jsx)("div",{className:"animate-fadeIn",style:{animationDelay:`${Math.min(50*t,500)}ms`},children:(0,qa.jsx)(as,{message:e,isOwn:r,currentUserId:n})},e.id)})}),(0,qa.jsx)("div",{ref:a})]})})}),as=(0,o.memo)(e=>{let{message:t,isOwn:n,currentUserId:r}=e;return(0,qa.jsxs)("div",{className:`flex mb-1 ${n?"justify-end":"justify-start"} group`,children:[!n&&(0,qa.jsx)("div",{className:"flex-shrink-0 mr-2 self-end",children:(()=>{const e=(e=>{const t=`hsl(${7*String(e||"U").charCodeAt(0)%360}, 70%, 55%)`,n="text-white";return{backgroundColor:t,textColorClass:n}})(t.senderUsername||"U");return(0,qa.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.textColorClass} text-xs font-semibold shadow-md`,style:{backgroundColor:e.backgroundColor},children:(t.senderUsername||"U").charAt(0).toUpperCase()})})()}),(0,qa.jsxs)("div",{className:"relative max-w-[85%] sm:max-w-xs lg:max-w-md "+(n?"ml-12":"mr-12"),children:[(0,qa.jsxs)("div",{className:"px-3 py-2 shadow-sm transition-all duration-200 group-hover:shadow-md "+(n?"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-2xl rounded-br-md":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-2xl rounded-bl-md border border-gray-100 dark:border-gray-600"),children:[!n&&(0,qa.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-600 dark:text-gray-300",children:t.senderUsername||"Unknown User"}),(0,qa.jsx)("div",{className:"text-sm leading-relaxed break-words whitespace-pre-wrap",children:t.content}),(0,qa.jsxs)("div",{className:"flex items-center justify-end mt-1 space-x-1 text-xs "+(n?"text-green-100":"text-gray-500 dark:text-gray-400"),children:[(0,qa.jsx)("span",{children:(e=>{const t=new Date(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return a.getTime()===r.getTime()?ns(t,"HH:mm"):a.getTime()===r.getTime()-864e5?`Yesterday ${ns(t,"HH:mm")}`:ns(t,"MMM d, HH:mm")})(t.timestamp)}),n&&(0,qa.jsx)(os,{message:t,currentUserId:r})]})]}),(0,qa.jsx)("div",{className:"absolute bottom-0 w-0 h-0 "+(n?"right-0 border-l-8 border-l-green-600 border-t-8 border-t-transparent":"left-0 border-r-8 border-r-white dark:border-r-gray-700 border-t-8 border-t-transparent")})]})]})}),os=(0,o.memo)(e=>{let{message:t,currentUserId:n}=e;switch((()=>{if(t.status)return t.status;if(n&&t.senderId===n){if(t.readBy&&Object.keys(t.readBy).length>0)return so.READ;if(t.deliveredTo&&Object.keys(t.deliveredTo).length>0)return so.DELIVERED;return(new Date).getTime()-new Date(t.timestamp).getTime()<5e3?so.PENDING:so.SENT}return so.SENT})()){case so.PENDING:return(0,qa.jsx)("div",{className:"flex items-center",title:"Sending...",children:(0,qa.jsx)("svg",{className:"w-3 h-3 opacity-60 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})});case so.SENT:return(0,qa.jsx)("div",{className:"flex items-center",title:"Sent",children:(0,qa.jsx)("svg",{className:"w-3 h-3 opacity-70",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})});case so.DELIVERED:return(0,qa.jsxs)("div",{className:"flex items-center space-x-0.5",title:"Delivered",children:[(0,qa.jsx)("svg",{className:"w-3 h-3 opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,qa.jsx)("svg",{className:"w-3 h-3 -ml-1 opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]});case so.READ:return(0,qa.jsxs)("div",{className:"flex items-center space-x-0.5",title:"Read",children:[(0,qa.jsx)("svg",{className:"w-3 h-3 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,qa.jsx)("svg",{className:"w-3 h-3 -ml-1 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]});default:return(0,qa.jsx)("div",{className:"flex items-center",children:(0,qa.jsx)("svg",{className:"w-3 h-3 opacity-70",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}}),ss=rs,is=e=>{let{onSendMessage:t,disabled:n}=e;const[r,a]=(0,o.useState)(""),[s,i]=(0,o.useState)(!1),l=(0,o.useRef)(null),u=(0,o.useRef)(null);(0,o.useEffect)(()=>{const e=l.current;e&&(e.style.height="auto",e.style.height=Math.min(e.scrollHeight,120)+"px")},[r]),(0,o.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&i(!1)};if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]);const c=e=>{e.preventDefault(),r.trim()&&!n&&(t(r),a(""),i(!1))};return(0,qa.jsx)("div",{className:"relative bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,qa.jsxs)("form",{onSubmit:c,className:"p-3 sm:p-4",children:[(0,qa.jsxs)("div",{className:"flex items-end space-x-2 bg-gray-50 dark:bg-gray-700 rounded-2xl p-2 border border-gray-200 dark:border-gray-600 focus-within:border-green-400 focus-within:bg-white dark:focus-within:bg-gray-600 transition-all duration-200",children:[!1,(0,qa.jsx)("div",{className:"flex-1 relative",children:(0,qa.jsx)("textarea",{ref:l,value:r,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c(e))},placeholder:n?"Connecting...":"Type a message...",disabled:n,rows:1,className:"w-full px-2 py-2 bg-transparent border-none focus:outline-none resize-none text-sm sm:text-base text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 max-h-24",style:{minHeight:"24px"}})}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("button",{type:"button",onClick:()=>i(!s),disabled:n,className:"flex-shrink-0 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-full transition-colors disabled:opacity-50",title:"Add emoji",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})})}),s&&(0,qa.jsxs)("div",{ref:u,className:"absolute bottom-full right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg p-3 z-50 min-w-[280px]",children:[(0,qa.jsx)("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Frequently used"}),(0,qa.jsx)("div",{className:"grid grid-cols-6 gap-1",children:["\ud83d\ude00","\ud83d\ude02","\ud83d\ude0a","\ud83d\ude0d","\ud83d\ude22","\ud83d\ude0e","\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f","\ud83c\udf89","\ud83d\udd25","\ud83d\udcaf"].map((e,t)=>(0,qa.jsx)("button",{type:"button",onClick:()=>(e=>{const t=l.current;if(t){const n=t.selectionStart,o=t.selectionEnd,s=r.substring(0,n)+e+r.substring(o);a(s),setTimeout(()=>{t.focus(),t.setSelectionRange(n+e.length,n+e.length)},0)}})(e),className:"w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e},t))}),(0,qa.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100 dark:border-gray-700",children:(0,qa.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"More emojis coming soon!"})})]})]}),(0,qa.jsx)("button",{type:"submit",disabled:!r.trim()||n,className:"flex-shrink-0 p-2 rounded-full transition-all duration-200 "+(r.trim()&&!n?"bg-green-500 text-white hover:bg-green-600 shadow-md hover:shadow-lg transform hover:scale-105":"bg-gray-200 dark:bg-gray-600 text-gray-400 dark:text-gray-500 cursor-not-allowed"),title:"Send message",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),r.length>1e3&&(0,qa.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-right mt-1 mr-2",children:[r.length,"/2000"]})]})})},ls=e=>{let{activeType:t,onTypeChange:n,conversations:r=[],unreadCounts:a={}}=e;const o=e=>{const t="groups"===e?"GROUP":"DIRECT";return r.filter(e=>e.type===t).reduce((e,t)=>e+(a[t.id]||0),0)},s=o("groups"),i=o("direct");return(0,qa.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-4",children:[(0,qa.jsx)("button",{onClick:()=>n("groups"),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors "+("groups"===t?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,qa.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s>0&&(0,qa.jsx)("span",{className:"absolute -top-1.5 -right-1.5 bg-green-500 text-white text-xs rounded-full min-w-[16px] h-4 flex items-center justify-center px-1 font-semibold shadow-sm",children:s>99?"99+":s})]}),(0,qa.jsx)("span",{children:"Groups"})]})}),(0,qa.jsx)("button",{onClick:()=>n("direct"),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors "+("direct"===t?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,qa.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),i>0&&(0,qa.jsx)("span",{className:"absolute -top-1.5 -right-1.5 bg-green-500 text-white text-xs rounded-full min-w-[16px] h-4 flex items-center justify-center px-1 font-semibold shadow-sm",children:i>99?"99+":i})]}),(0,qa.jsx)("span",{children:"Direct"})]})})]})},us=e=>{let{selectedConversation:t,onSelectConversation:n,conversations:r=[],activeType:a,onTypeChange:o,onNewDirectMessage:s,onNewGroup:i,unreadCounts:l={},currentUserId:u,onDeleteConversation:c}=e;const d=r,f=d.filter(e=>"groups"===a?"GROUP"===e.type:"DIRECT"===e.type);console.log("\ud83d\udd0d ConversationList Debug:",{activeType:a,totalConversations:d.length,filteredConversations:f.length,allConversations:d.map(e=>{var t;return{id:e.id,name:e.name,type:e.type,participants:null===(t=e.participants)||void 0===t?void 0:t.map(e=>({user:e.user||e,role:e.role||"N/A"}))}}),filtered:f.map(e=>{var t;return{id:e.id,name:e.name,type:e.type,participants:null===(t=e.participants)||void 0===t?void 0:t.map(e=>({user:e.user||e,role:e.role||"N/A"}))}}),currentUserId:u});const h=e=>{if("DIRECT"===e.type&&e.participants&&e.participants.length>0){const t=e.participants.find(e=>e.user.id!==u);if(t){const e=t.user;return e.displayNameOrUsername||e.displayName||e.username||"Unknown User"}return"Unknown User"}return String(e.name||"Unnamed Conversation")},p=e=>{const t=h(e),n=String(t||"U"),r=7*n.charCodeAt(0)%360,a=`hsl(${r}, 75%, 45%)`,o=((e,t,n)=>n>70?"text-gray-800 dark:text-gray-200":"text-white dark:text-gray-100")(0,0,45);return"DIRECT"===e.type?(0,qa.jsx)("div",{className:"relative mr-3 flex-shrink-0",children:(0,qa.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${o} font-semibold shadow-lg border-2 border-white/20 dark:border-gray-600/30`,style:{background:`linear-gradient(135deg, ${a}, hsl(${r}, 75%, 35%))`},children:(0,qa.jsx)("span",{className:"text-lg",children:n.charAt(0).toUpperCase()})})}):(0,qa.jsx)("div",{className:"relative mr-3 flex-shrink-0",children:(0,qa.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg border-2 border-white/20 dark:border-gray-600/30",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"},children:(0,qa.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})})})},m=e=>{if("DIRECT"===e.type)return!0;if("GROUP"===e.type&&e.participants&&u){const t=e.participants.find(e=>e.user.id===u);return t&&"OWNER"===t.role}return!1};return(0,qa.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,qa.jsxs)("div",{className:"p-3 sm:p-4 pb-6",children:[(0,qa.jsx)(ls,{activeType:a,onTypeChange:o,conversations:r,unreadCounts:l}),(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qa.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"groups"===a?"Group Conversations":"Direct Messages"}),"direct"===a&&(0,qa.jsx)("button",{onClick:s,className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"New Direct Message",children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),"groups"===a&&i&&(0,qa.jsx)("button",{onClick:i,className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Create New Group",children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(0,qa.jsx)("div",{className:"space-y-1",children:f.length>0?f.map(e=>(0,qa.jsxs)("div",{className:"group relative transition-all duration-200 "+(t===e.id?"bg-green-50 dark:bg-green-900/20 border-r-4 border-green-500 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-700/50 hover:shadow-sm"),children:[(0,qa.jsx)("button",{onClick:()=>n(e.id),className:"w-full text-left p-4 transition-all duration-200",children:(0,qa.jsxs)("div",{className:"flex items-center",children:[p(e),(0,qa.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,qa.jsx)("div",{className:"font-semibold truncate text-base "+(t===e.id?"text-gray-900 dark:text-gray-100":"text-gray-800 dark:text-gray-200"),children:String(h(e))}),(0,qa.jsxs)("div",{className:"flex items-center space-x-2 mr-8",children:[e.lastMessage&&(0,qa.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(new Date).toDateString()===new Date(e.lastMessage.timestamp||Date.now()).toDateString()?new Date(e.lastMessage.timestamp||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(e.lastMessage.timestamp||Date.now()).toLocaleDateString([],{month:"short",day:"numeric"})}),l[e.id]&&l[e.id]>0&&(0,qa.jsx)("span",{className:"bg-green-500 text-white text-xs rounded-full px-2.5 py-1 font-semibold shadow-sm",children:l[e.id]>99?"99+":l[e.id]})]})]}),(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[e.lastMessage?(0,qa.jsx)("div",{className:"text-sm truncate pr-2 "+(l[e.id]&&l[e.id]>0?"text-gray-700 dark:text-gray-300 font-medium":"text-gray-500 dark:text-gray-400"),children:"string"===typeof e.lastMessage?e.lastMessage:e.lastMessage.content}):null,e.lastMessage&&e.lastMessage.senderId===u&&(0,qa.jsx)("div",{className:"flex items-center text-gray-400",children:(0,qa.jsx)("svg",{className:"w-3 h-3 opacity-70",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})]})]})}),c&&m(e)&&(0,qa.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm(`Are you sure you want to delete this ${"GROUP"===e.type?"group":"conversation"}?`)&&c(e.id)},className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Delete "+("GROUP"===e.type?"group":"conversation"),children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)):(0,qa.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:["groups"===a?"No group conversations yet":"No direct messages yet","direct"===a&&(0,qa.jsx)("div",{className:"mt-2",children:(0,qa.jsx)("button",{onClick:s,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:"Start a conversation"})}),"groups"===a&&i&&(0,qa.jsx)("div",{className:"mt-2",children:(0,qa.jsx)("button",{onClick:i,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:"Create a group"})})]})})]})})},cs=e=>{let{isOpen:t,onClose:n,onSelectUser:r,searchUsers:a,getUserSuggestions:s,currentUserId:i}=e;const[l,u]=(0,o.useState)(""),[c,d]=(0,o.useState)([]),[f,h]=(0,o.useState)(!1),[p,m]=(0,o.useState)(null),g=(0,o.useRef)(null),v=(0,o.useRef)();(0,o.useEffect)(()=>{t&&g.current&&g.current.focus()},[t]),(0,o.useEffect)(()=>{t&&""===l&&y()},[t]),(0,o.useEffect)(()=>(v.current&&clearTimeout(v.current),l.trim()?v.current=setTimeout(()=>{b(l.trim())},300):t&&y(),()=>{v.current&&clearTimeout(v.current)}),[l]);const y=async()=>{h(!0),m(null);try{const e=(await s()).filter(e=>e.id!==i);d(e)}catch(e){m("Failed to load user suggestions"),d([])}finally{h(!1)}},b=async e=>{h(!0),m(null);try{const t=(await a(e)).filter(e=>e.id!==i);d(t)}catch(t){m("Failed to search users"),d([])}finally{h(!1)}},x=()=>{u(""),d([]),m(null),n()},w=e=>e.displayName||e.username,k=e=>{if(e.avatarUrl)return(0,qa.jsx)("img",{src:e.avatarUrl,alt:w(e),className:"w-10 h-10 rounded-full object-cover"});const t=w(e),n=String(t||"U"),r=7*n.charCodeAt(0)%360,a=`hsl(${r}, 75%, 45%)`;return(0,qa.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg border-2 border-white/20 dark:border-gray-600/30",style:{background:`linear-gradient(135deg, ${a}, hsl(${r}, 75%, 35%))`},children:(0,qa.jsx)("span",{className:"font-medium",style:{color:"#ffffff"},children:n.charAt(0).toUpperCase()})})};return t?(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[80vh] flex flex-col",children:[(0,qa.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"New Direct Message"}),(0,qa.jsx)("button",{onClick:x,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:(0,qa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,qa.jsxs)("div",{className:"mt-4 relative",children:[(0,qa.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,qa.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,qa.jsx)("input",{ref:g,type:"text",placeholder:"Search for users...",value:l,onChange:e=>u(e.target.value),onKeyDown:e=>{"Escape"===e.key&&x()},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,qa.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[p&&(0,qa.jsxs)("div",{className:"p-4 text-center text-red-600",children:[(0,qa.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p]}),f&&(0,qa.jsxs)("div",{className:"p-8 text-center",children:[(0,qa.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,qa.jsx)("div",{className:"mt-2 text-gray-600",children:l?"Searching...":"Loading suggestions..."})]}),!f&&!p&&0===c.length&&(0,qa.jsx)("div",{className:"p-8 text-center text-gray-500",children:l?"No users found":"No user suggestions available"}),!f&&!p&&c.length>0&&(0,qa.jsxs)("div",{className:"p-2",children:[!l&&(0,qa.jsx)("div",{className:"px-2 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Suggested Users"}),(0,qa.jsx)("div",{className:"space-y-1",children:c.map(e=>(0,qa.jsxs)("button",{onClick:()=>(e=>{r(e),x()})(e),className:"w-full flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,qa.jsx)("div",{className:"flex-shrink-0 mr-3",children:k(e)}),(0,qa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qa.jsx)("div",{className:"font-medium text-gray-900 truncate",children:w(e)}),e.username!==w(e)&&(0,qa.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:["@",e.username]}),e.email&&(0,qa.jsx)("div",{className:"text-xs text-gray-400 truncate",children:e.email})]}),(0,qa.jsx)("div",{className:"flex-shrink-0 ml-2",children:(0,qa.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},e.id))})]})]})]})}):null},ds=e=>{let{isSearchMode:t,onToggleSearch:n,onSearch:r,onClearSearch:a,isLoading:s=!1,resultsCount:i,placeholder:u="Search messages...",enableFilters:c=!0}=e;const[d,f]=(0,o.useState)(""),[h,p]=(0,o.useState)({}),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)([]),[b,x]=(0,o.useState)(!1),[w,k]=(0,o.useState)(null),S=(0,o.useRef)(null),C=(0,o.useRef)(null),N=(0,o.useRef)(null),j=(0,o.useRef)();(0,o.useEffect)(()=>{try{const e=localStorage.getItem("recentSearches");if(e){const t=JSON.parse(e);y(Array.isArray(t)?t:[])}}catch(e){console.warn("Failed to load recent searches:",e),y([])}},[]),(0,o.useEffect)(()=>{t&&S.current&&S.current.focus()},[t]),(0,o.useEffect)(()=>{t||(f(""),x(!1),k(null),g(!1),j.current&&clearTimeout(j.current))},[t]),(0,o.useEffect)(()=>{const e=e=>{const t=e.target;if(N.current&&!N.current.contains(t)&&g(!1),b){const e=document.querySelectorAll("[data-recent-dropdown]");let n=!1;e.forEach(e=>{e.contains(t)&&(n=!0)}),n||!C.current||C.current.contains(t)||(console.log("\ud83d\udd0d Closing dropdown due to outside click"),x(!1),k(null))}};if(m||b)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m,b]);const E=(0,o.useCallback)(()=>{if(!C.current)return null;const e=C.current.getBoundingClientRect();return{top:e.bottom+window.scrollY+4,left:e.left+window.scrollX,width:e.width}},[]),T=(0,o.useCallback)(e=>{const t=e.trim();if(!t)return;const n=[t,...v.filter(e=>e!==t)].slice(0,5);y(n);try{localStorage.setItem("recentSearches",JSON.stringify(n))}catch(r){console.warn("Failed to save recent searches:",r)}},[v]),P=(0,o.useCallback)((e,t)=>{console.log("\ud83d\udd0d executeSearch called with:",{searchQuery:e,searchFilters:t});const n=e.trim();if(!n)return console.log("\ud83d\udd0d Empty query, clearing search"),void a();console.log("\ud83d\udd0d NewMessageSearchBar executing search:",{query:n,filters:t}),T(n),x(!1),k(null),console.log("\ud83d\udd0d Calling parent onSearch with:",{query:n,filters:t}),r(n,t)},[r,a,T]),_=(0,o.useCallback)(e=>{const t=e.target.value;f(t),j.current&&clearTimeout(j.current),t.trim()?j.current=setTimeout(()=>{P(t,Object.keys(h).length>0?h:void 0)},300):a()},[P,h,a]),R=(0,o.useCallback)(()=>{if(console.log("\ud83d\udd0d Input focused, recent searches length:",v.length),console.log("\ud83d\udd0d Current query:",d),console.log("\ud83d\udd0d Recent searches:",v),v.length>0&&!d.trim()){const e=E();console.log("\ud83d\udd0d Calculated dropdown position:",e),e&&(k(e),x(!0),console.log("\ud83d\udd0d Showing recent dropdown"))}},[v.length,d,E]),O=(0,o.useCallback)(e=>{var t;console.log("\ud83d\udd0d Recent search selected:",e),console.log("\ud83d\udd0d Current query state before update:",d),console.log("\ud83d\udd0d Input ref current value:",null===(t=S.current)||void 0===t?void 0:t.value),f(e),S.current&&(S.current.value=e,S.current.focus(),console.log("\ud83d\udd0d Input updated and focused. New value:",S.current.value)),x(!1),k(null),console.log("\ud83d\udd0d About to execute search with query:",e),P(e,Object.keys(h).length>0?h:void 0)},[P,h,d]),L=(0,o.useCallback)(e=>{"Escape"===e.key?b?(x(!1),k(null)):n():"Enter"===e.key&&(e.preventDefault(),P(d,Object.keys(h).length>0?h:void 0))},[b,n,P,d,h]),M=(0,o.useCallback)(()=>{f(""),p({}),S.current&&(S.current.value="",S.current.focus()),a()},[a]),D=(0,o.useCallback)(()=>{f(""),p({}),x(!1),k(null),n()},[n]),A=Object.values(h).some(e=>void 0!==e&&""!==e&&!1!==e),U=(0,o.useCallback)((e,t)=>{const n={...h};void 0===t||""===t||!1===t?delete n[e]:n[e]=t,p(n),d.trim()&&P(d,Object.keys(n).length>0?n:void 0)},[h,d,P]);return t?(0,qa.jsxs)("div",{className:"flex-1 w-full lg:max-w-md",children:[(0,qa.jsxs)("div",{className:"relative",ref:C,children:[(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s?(0,qa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}):(0,qa.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,qa.jsx)("input",{ref:S,type:"text",placeholder:u,value:d,onChange:_,onKeyDown:L,onFocus:R,className:"w-full pl-10 pr-32 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),(0,qa.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[void 0!==i&&d&&(0,qa.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:[i," ",1===i?"result":"results"]}),c&&(0,qa.jsxs)("button",{onClick:()=>g(!m),className:"p-1 transition-colors mr-1 "+(A?"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"),title:"Search filters",children:[(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})}),A&&(0,qa.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-600 rounded-full"})]}),(d||A)&&(0,qa.jsx)("button",{onClick:M,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors mr-1",title:"Clear search",children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,qa.jsx)("button",{onClick:D,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors mr-2",title:"Close search",children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),m&&(0,qa.jsx)("div",{ref:N,className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 p-4",children:(0,qa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From User"}),(0,qa.jsx)("input",{type:"text",placeholder:"Username",value:h.sender||"",onChange:e=>U("sender",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded focus:ring-1 focus:ring-blue-500"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),(0,qa.jsx)("input",{type:"date",value:h.dateFrom||"",onChange:e=>U("dateFrom",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded focus:ring-1 focus:ring-blue-500"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),(0,qa.jsx)("input",{type:"date",value:h.dateTo||"",onChange:e=>U("dateTo",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded focus:ring-1 focus:ring-blue-500"})]}),(0,qa.jsxs)("div",{className:"flex items-center",children:[(0,qa.jsx)("input",{type:"checkbox",id:"hasMedia",checked:h.hasMedia||!1,onChange:e=>U("hasMedia",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),(0,qa.jsx)("label",{htmlFor:"hasMedia",className:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Has Media"})]})]})})]}),(console.log("\ud83d\udd0d Dropdown render check:",{showRecentDropdown:b,dropdownPosition:w,recentSearchesLength:v.length}),b&&w&&v.length>0&&(0,l.createPortal)((0,qa.jsxs)("div",{"data-recent-dropdown":"true",className:"absolute bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",style:{top:(null===w||void 0===w?void 0:w.top)||0,left:(null===w||void 0===w?void 0:w.left)||0,width:(null===w||void 0===w?void 0:w.width)||"auto"},children:[(0,qa.jsx)("div",{className:"p-2 border-b border-gray-100 dark:border-gray-700",children:(0,qa.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Recent searches"})}),v.map((e,t)=>(0,qa.jsxs)("button",{onClick:t=>{console.log("\ud83d\udd0d Recent search button clicked:",e),console.log("\ud83d\udd0d Event target:",t.target),console.log("\ud83d\udd0d Event current target:",t.currentTarget),t.preventDefault(),t.stopPropagation(),O(e)},onMouseDown:t=>{console.log("\ud83d\udd0d Recent search button mousedown:",e),t.preventDefault(),t.stopPropagation()},className:"w-full text-left px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-600 text-sm flex items-center space-x-2 transition-colors",children:[(0,qa.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,qa.jsx)("span",{className:"flex-1 text-gray-900 dark:text-gray-100",children:e})]},t))]}),document.body))]}):(0,qa.jsx)("button",{onClick:n,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Search messages",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})},fs=e=>{let{searchResult:t,isLoading:n,error:r,onJumpToMessage:a,onLoadMore:s,onShowContext:i,className:l=""}=e;const[u,c]=(0,o.useState)(null),d=e=>{const t=new Date(e),n=((new Date).getTime()-t.getTime())/36e5;return n<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n<168?t.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},f=e=>{if(e.highlightedContent){const t=e=>{let t=e.replace(/<(?!\/?(mark)(?:\s[^>]*)?\/?>)[^>]+>/gi,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");return t=t.replace(/&lt;mark&gt;/g,'<mark class="bg-yellow-300 dark:bg-yellow-600 text-yellow-900 dark:text-yellow-100 px-1 py-0.5 rounded font-medium shadow-sm">').replace(/&lt;\/mark&gt;/g,"</mark>"),t};return(0,qa.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",dangerouslySetInnerHTML:{__html:t(e.highlightedContent)}})}return(0,qa.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:e.content})},h=e=>{const t=new Date(e),n=((new Date).getTime()-t.getTime())/36e5,r=Math.floor(n/24);return n<1?"Just now":n<24?`${Math.floor(n)}h ago`:1===r?"Yesterday":r<7?`${r} days ago`:t.toLocaleDateString([],{month:"short",day:"numeric"})};return r?(0,qa.jsx)("div",{className:`p-4 ${l}`,children:(0,qa.jsxs)("div",{className:"text-center py-8",children:[(0,qa.jsx)("svg",{className:"w-12 h-12 text-red-400 dark:text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,qa.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Search Error"}),(0,qa.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:r})]})}):n&&!t?(0,qa.jsx)("div",{className:`p-4 ${l}`,children:(0,qa.jsxs)("div",{className:"text-center py-8",children:[(0,qa.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400 mb-4"}),(0,qa.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Searching messages..."})]})}):t?0===t.messages.length?(0,qa.jsx)("div",{className:`p-4 ${l}`,children:(0,qa.jsxs)("div",{className:"text-center py-8",children:[(0,qa.jsx)("svg",{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,qa.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No results found"}),(0,qa.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:['No messages found for "',t.query,'"']})]})}):(0,qa.jsxs)("div",{className:`flex flex-col h-full ${l}`,children:[(0,qa.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700",children:(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qa.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Search Results"})]}),(0,qa.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[(0,qa.jsx)("span",{className:"font-medium text-blue-700 dark:text-blue-400",children:t.totalCount})," ",1===t.totalCount?"result":"results"," for",(0,qa.jsxs)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[' "',t.query,'"']})]})]}),t.currentPage>0&&(0,qa.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-600 px-2 py-1 rounded-full border border-gray-200 dark:border-gray-500",children:["Page ",t.currentPage+1]})]})}),(0,qa.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,qa.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:t.messages.map((e,t)=>(0,qa.jsx)("div",{className:"group relative transition-all duration-200 "+(u===e.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400":"hover:bg-gray-50 dark:hover:bg-gray-700/50 hover:shadow-sm"),children:(0,qa.jsx)("div",{className:"p-4 cursor-pointer",onClick:()=>{c(e.id),a(e.id)},children:(0,qa.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,qa.jsx)("div",{className:"flex-shrink-0",children:(()=>{const t=e.senderUsername,n=7*t.charCodeAt(0)%360,r=`hsl(${n}, 75%, 45%)`;return(0,qa.jsx)("div",{className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md border-2 border-white/20 dark:border-gray-600/30",style:{background:`linear-gradient(135deg, ${r}, hsl(${n}, 75%, 35%))`},children:(0,qa.jsx)("span",{className:"text-white text-sm font-semibold",children:t.charAt(0).toUpperCase()})})})()}),(0,qa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qa.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,qa.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:e.senderUsername}),(0,qa.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-600 px-2 py-0.5 rounded-full",children:h(e.timestamp)})]}),(0,qa.jsx)("div",{className:"message-content mb-2",children:f(e)}),(0,qa.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 dark:text-gray-500",children:[(0,qa.jsx)("span",{children:d(e.timestamp)}),(0,qa.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[i&&(0,qa.jsxs)("button",{onClick:t=>{t.stopPropagation(),i(e.id)},className:"flex items-center space-x-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:[(0,qa.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,qa.jsx)("span",{children:"Context"})]}),(0,qa.jsxs)("button",{className:"flex items-center space-x-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[(0,qa.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),(0,qa.jsx)("span",{children:"Jump"})]})]})]})]})]})})},`${e.id}-${t}`))}),t.hasMore&&s&&(0,qa.jsx)("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:(0,qa.jsx)("button",{onClick:s,disabled:n,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg",children:n?(0,qa.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,qa.jsx)("span",{children:"Loading more results..."})]}):(0,qa.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 13l-7 7-7-7m14-8l-7 7-7-7"})}),(0,qa.jsxs)("span",{children:["Load ",t.totalCount-t.messages.length," more results"]})]})})})]})]}):(0,qa.jsx)("div",{className:`p-4 ${l}`,children:(0,qa.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,qa.jsx)("svg",{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,qa.jsx)("p",{children:"Start typing to search messages..."})]})})},hs=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),i=async()=>{try{r(!0),s(null);const e=await ao.user.getAllUsers();t(e)}catch(e){console.error("Failed to fetch users:",e),s(e.message||"Failed to fetch users")}finally{r(!1)}};return(0,o.useEffect)(()=>{i()},[]),{users:e,loading:n,error:a,refetch:i}},ps=e=>{let{isOpen:t,onClose:n,onGroupCreated:r}=e;const[a,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(!1),[d,f]=(0,o.useState)(100),[h,p]=(0,o.useState)([]),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)(null),{users:b}=hs();return t?(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,qa.jsx)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:(0,qa.jsxs)("div",{className:"p-6",children:[(0,qa.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create New Group"}),v&&(0,qa.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:v}),(0,qa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y(null),a.trim())if(d<2)y("Group must have at least 2 participants");else if(d>1e3)y("Group cannot have more than 1000 participants");else{g(!0);try{const e={name:a.trim(),description:i.trim()||null,isPublic:u,maxParticipants:d,participantIds:h},t=await ao.conversation.createGroup(e);r&&r(t),s(""),l(""),c(!1),f(100),p([]),n()}catch(v){console.error("Failed to create group:",v),y(v.message||"Failed to create group")}finally{g(!1)}}else y("Group name is required")},className:"space-y-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"groupName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name *"}),(0,qa.jsx)("input",{type:"text",id:"groupName",value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter group name",maxLength:100,required:!0})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),(0,qa.jsx)("textarea",{id:"description",value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter group description",rows:3,maxLength:500})]}),(0,qa.jsxs)("div",{className:"flex items-center",children:[(0,qa.jsx)("input",{type:"checkbox",id:"isPublic",checked:u,onChange:e=>c(e.target.checked),className:"mr-2"}),(0,qa.jsx)("label",{htmlFor:"isPublic",className:"text-sm font-medium text-gray-700",children:"Make group public"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"maxParticipants",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Participants"}),(0,qa.jsx)("input",{type:"number",id:"maxParticipants",value:d,onChange:e=>f(parseInt(e.target.value)||100),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:2,max:1e3})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Participants (optional)"}),(0,qa.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-md p-2",children:0===b.length?(0,qa.jsx)("p",{className:"text-gray-500 text-sm",children:"Loading users..."}):b.map(e=>(0,qa.jsxs)("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[(0,qa.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>{return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-2"}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("div",{className:"text-sm font-medium",children:e.displayName}),(0,qa.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),e.isOnline&&(0,qa.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]},e.id))}),h.length>0&&(0,qa.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[h.length," participant",1!==h.length?"s":""," selected"]})]}),(0,qa.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,qa.jsx)("button",{type:"button",onClick:()=>{s(""),l(""),c(!1),f(100),p([]),y(null),n()},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:m,children:"Cancel"}),(0,qa.jsx)("button",{type:"submit",disabled:m||!a.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:m?"Creating...":"Create Group"})]})]})]})})}):null},ms=e=>{var t,n,r;let{isOpen:a,onClose:s,conversation:i,userRole:l,onGroupUpdated:u,onGroupDeleted:c}=e;const[d,f]=(0,o.useState)(i.name||""),[h,p]=(0,o.useState)(i.description||""),[m,g]=(0,o.useState)(i.isPublic||!1),[v,y]=(0,o.useState)(i.maxParticipants||100),[b,x]=(0,o.useState)([]),[w,k]=(0,o.useState)(!1),[S,C]=(0,o.useState)(null),[N,j]=(0,o.useState)("settings"),{users:E}=hs(),T="OWNER"===l||"ADMIN"===l,P="OWNER"===l||"ADMIN"===l,_="OWNER"===l;(0,o.useEffect)(()=>{a&&(f(i.name||""),p(i.description||""),g(i.isPublic||!1),y(i.maxParticipants||100),x([]),C(null))},[a,i]);const R=()=>{f(i.name||""),p(i.description||""),g(i.isPublic||!1),y(i.maxParticipants||100),x([]),C(null),s()};if(!a)return null;const O=(null===(t=i.participants)||void 0===t?void 0:t.map(e=>e&&"object"===typeof e&&"user"in e&&e.user?e.user.id:e&&"object"===typeof e&&"id"in e?e.id:null).filter(e=>null!==e))||[],L=E.filter(e=>!O.includes(e.id));return(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,qa.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:(0,qa.jsxs)("div",{className:"p-6",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,qa.jsx)("h2",{className:"text-xl font-bold",children:"Group Settings"}),(0,qa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qa.jsxs)("span",{className:"text-sm text-gray-500",children:["Your role: ",l]}),(0,qa.jsx)("button",{onClick:R,className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]})]}),S&&(0,qa.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:S}),(0,qa.jsxs)("div",{className:"flex border-b mb-6",children:[(0,qa.jsx)("button",{onClick:()=>j("settings"),className:"px-4 py-2 font-medium "+("settings"===N?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Settings"}),(0,qa.jsxs)("button",{onClick:()=>j("participants"),className:"px-4 py-2 font-medium "+("participants"===N?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:["Participants (",(null===(n=i.participants)||void 0===n?void 0:n.length)||0,")"]})]}),"settings"===N&&(0,qa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),P)if(C(null),d.trim())if(v<2)C("Group must have at least 2 participants");else if(v>1e3)C("Group cannot have more than 1000 participants");else{k(!0);try{const e={name:d.trim(),description:h.trim()||null,isPublic:m,maxParticipants:v},t=await ao.conversation.updateGroupSettings(i.id,e);u&&u(t),s()}catch(S){console.error("Failed to update group settings:",S),C(S.message||"Failed to update group settings")}finally{k(!1)}}else C("Group name is required");else C("You do not have permission to update group settings")},className:"space-y-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"groupName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name *"}),(0,qa.jsx)("input",{type:"text",id:"groupName",value:d,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter group name",maxLength:100,required:!0,disabled:!P})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),(0,qa.jsx)("textarea",{id:"description",value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter group description",rows:3,maxLength:500,disabled:!P})]}),(0,qa.jsxs)("div",{className:"flex items-center",children:[(0,qa.jsx)("input",{type:"checkbox",id:"isPublic",checked:m,onChange:e=>g(e.target.checked),className:"mr-2",disabled:!P}),(0,qa.jsx)("label",{htmlFor:"isPublic",className:"text-sm font-medium text-gray-700",children:"Make group public"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{htmlFor:"maxParticipants",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Participants"}),(0,qa.jsx)("input",{type:"number",id:"maxParticipants",value:v,onChange:e=>y(parseInt(e.target.value)||100),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:2,max:1e3,disabled:!P})]}),(0,qa.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,qa.jsx)("div",{children:_&&(0,qa.jsx)("button",{type:"button",onClick:async()=>{if(_){if(window.confirm("Are you sure you want to delete this group? This action cannot be undone.")){C(null),k(!0);try{await ao.conversation.deleteGroup(i.id),null===c||void 0===c||c(),s()}catch(S){console.error("Failed to delete group:",S),C(S.message||"Failed to delete group")}finally{k(!1)}}}else C("You do not have permission to delete this group")},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",disabled:w,children:"Delete Group"})}),(0,qa.jsxs)("div",{className:"flex space-x-3",children:[(0,qa.jsx)("button",{type:"button",onClick:R,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:w,children:"Cancel"}),P&&(0,qa.jsx)("button",{type:"submit",disabled:w||!d.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:w?"Updating...":"Update Settings"})]})]})]}),"participants"===N&&(0,qa.jsxs)("div",{className:"space-y-6",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Current Participants"}),(0,qa.jsx)("div",{className:"space-y-2",children:null===(r=i.participants)||void 0===r?void 0:r.map(e=>{const t=e&&"object"===typeof e&&"user"in e&&e.user?e.user:e,n=e&&"object"===typeof e&&"role"in e?e.role:"MEMBER";return t&&t.id?(0,qa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,qa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("div",{className:"text-sm font-medium",children:t.displayName||t.username}),(0,qa.jsx)("div",{className:"text-xs text-gray-500",children:t.email})]}),(0,qa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qa.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("OWNER"===n?"bg-purple-100 text-purple-800":"ADMIN"===n?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:n}),(t.isOnline||t.online)&&(0,qa.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]}),T&&"OWNER"!==n&&(0,qa.jsx)("button",{onClick:()=>(async e=>{if(T){C(null),k(!0);try{if(await ao.conversation.removeParticipant(i.id,e),u){const e=await ao.get(`/conversations/${i.id}`);u(e.data)}}catch(S){console.error("Failed to remove participant:",S),C(S.message||"Failed to remove participant")}finally{k(!1)}}else C("You do not have permission to manage participants")})(t.id),className:"text-red-600 hover:text-red-800 text-sm",disabled:w,children:"Remove"})]},t.id):null})})]}),T&&L.length>0&&(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Add Participants"}),(0,qa.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-md p-2 mb-3",children:L.map(e=>(0,qa.jsxs)("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[(0,qa.jsx)("input",{type:"checkbox",checked:b.includes(e.id),onChange:()=>{return t=e.id,void x(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-2"}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("div",{className:"text-sm font-medium",children:e.displayName}),(0,qa.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),e.isOnline&&(0,qa.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]},e.id))}),b.length>0&&(0,qa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qa.jsxs)("p",{className:"text-sm text-gray-600",children:[b.length," user",1!==b.length?"s":""," selected"]}),(0,qa.jsx)("button",{onClick:async()=>{if(T)if(0!==b.length){C(null),k(!0);try{for(const e of b)await ao.conversation.addParticipant(i.id,e);if(x([]),u){const e=await ao.get(`/conversations/${i.id}`);u(e.data)}}catch(S){console.error("Failed to add participants:",S),C(S.message||"Failed to add participants")}finally{k(!1)}}else C("Please select at least one user to add");else C("You do not have permission to manage participants")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",disabled:w,children:w?"Adding...":"Add Selected"})]})]}),!T&&(0,qa.jsx)("div",{className:"text-center py-4 text-gray-500",children:"You do not have permission to manage participants."})]})]})})})},gs=()=>{const{theme:e,toggleTheme:t}=(()=>{const e=(0,o.useContext)(Xa);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),n=()=>"light"===e?"Switch to dark mode":"Switch to light mode";return(0,qa.jsx)("button",{onClick:t,className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",title:n(),"aria-label":n(),children:"dark"===e?(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})},vs=e=>{let{className:t="",showFullInfo:n=!1,clickable:r=!1}=e;const[a,s]=(0,o.useState)(!1),i="1.0.0",l="2025-07-31T13:43:10.996Z",u="ead00ef2ba117fe34276bba7225f0b9675c44681",c="render-single-service-deployment",d="development";return n||a?(0,qa.jsxs)("div",{className:`text-xs text-gray-500 dark:text-gray-400 ${t}`,children:[r&&a&&(0,qa.jsxs)("div",{className:"absolute right-0 top-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg p-3 z-50 min-w-48",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,qa.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Build Info"}),(0,qa.jsx)("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,qa.jsxs)("div",{className:"space-y-1",children:[(0,qa.jsxs)("div",{children:["Version: ",i]}),(0,qa.jsxs)("div",{children:["Build: ",new Date(l).toLocaleString()]}),(0,qa.jsxs)("div",{children:["Commit: ",u.substring(0,8)]}),(0,qa.jsxs)("div",{children:["Branch: ",c]}),(0,qa.jsxs)("div",{children:["Environment: ",d]})]})]}),!r&&(0,qa.jsxs)("div",{className:"space-y-1",children:[(0,qa.jsxs)("div",{children:["Version: ",i]}),(0,qa.jsxs)("div",{children:["Build: ",new Date(l).toLocaleString()]}),(0,qa.jsxs)("div",{children:["Commit: ",u.substring(0,8)]}),(0,qa.jsxs)("div",{children:["Branch: ",c]}),(0,qa.jsxs)("div",{children:["Environment: ",d]})]})]}):r?(0,qa.jsxs)("button",{onClick:()=>s(!0),className:`text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors ${t}`,title:"Click for build details",children:["v",i]}):(0,qa.jsxs)("span",{className:`text-xs text-gray-500 dark:text-gray-400 ${t}`,children:["v",i]})},ys=()=>{const e=(new Date).getFullYear();return(0,qa.jsx)("footer",{className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:(0,qa.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,qa.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["\xa9 ",e," Chat Platform. All rights reserved."]}),(0,qa.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:["Developed by"," ",(0,qa.jsx)("a",{href:"https://jeffreyjose07.github.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Jeffrey Jose"})]})]}),(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-6",children:[(0,qa.jsx)(vs,{}),(0,qa.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,qa.jsx)("a",{href:"https://github.com/jeffreyjose07",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",title:"GitHub Profile",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),(0,qa.jsx)("a",{href:"https://www.linkedin.com/in/jeffrey-jose-07-k",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",title:"LinkedIn Profile",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]})]}),(0,qa.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center text-xs text-gray-500 dark:text-gray-500 space-y-2 sm:space-y-0",children:[(0,qa.jsx)("div",{children:"Built with React, TypeScript, and Tailwind CSS"}),(0,qa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qa.jsx)("span",{children:"Real-time messaging platform"}),(0,qa.jsx)("span",{children:"\u2022"}),(0,qa.jsx)("span",{children:"Scalable architecture"})]})]})})]})})},bs=e=>{let{isOpen:t,onClose:n,onSuccess:r}=e;const[a,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(""),[d,f]=(0,o.useState)(!1),[h,p]=(0,o.useState)(null),[m,g]=(0,o.useState)({current:!1,new:!1,confirm:!1}),v=(e=>{const t=[];let n=0;e.length<8?t.push("At least 8 characters required"):n+=1,/[a-z]/.test(e)?n+=1:t.push("Include lowercase letters"),/[A-Z]/.test(e)?n+=1:t.push("Include uppercase letters"),/\d/.test(e)?n+=1:t.push("Include numbers"),/[!@#$%^&*(),.?":{}|<>]/.test(e)?n+=1:t.push("Include special characters (!@#$%^&*)"),/(.)\1{2,}/.test(e)&&(t.push("Avoid repeating characters"),n=Math.max(0,n-1)),/^(password|123456|qwerty|admin)/i.test(e)&&(t.push("Avoid common passwords"),n=0);return{score:n,feedback:t,color:["bg-red-500","bg-red-400","bg-yellow-500","bg-blue-500","bg-green-500"][n]||"bg-gray-300",label:["Very Weak","Weak","Fair","Good","Strong"][n]||"Very Weak"}})(i),y=e=>{g(t=>({...t,[e]:!t[e]}))};return t?(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,qa.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,qa.jsxs)("div",{className:"p-6",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"\ud83d\udd12 Change Password"}),(0,qa.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,qa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p(null),a)if(i)if(i===u)if(v.score<3)p("Password is too weak. Please choose a stronger password.");else if(a!==i){f(!0);try{await ao.post("/api/auth/change-password",{currentPassword:a,newPassword:i}),s(""),l(""),c(""),r(),n()}catch(h){var t,o;console.error("Failed to change password:",h),p((null===(t=h.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to change password")}finally{f(!1)}}else p("New password must be different from current password");else p("Passwords do not match");else p("New password is required");else p("Current password is required")},className:"space-y-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("input",{type:m.current?"text":"password",value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 pr-10",placeholder:"Enter current password",required:!0}),(0,qa.jsx)("button",{type:"button",onClick:()=>y("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,qa.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.current?(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("input",{type:m.new?"text":"password",value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 pr-10",placeholder:"Enter new password",required:!0}),(0,qa.jsx)("button",{type:"button",onClick:()=>y("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,qa.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.new?(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),i&&(0,qa.jsxs)("div",{className:"mt-2",children:[(0,qa.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,qa.jsx)("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,qa.jsx)("div",{className:`h-full ${v.color} transition-all duration-300`,style:{width:v.score/5*100+"%"}})}),(0,qa.jsx)("span",{className:"text-xs font-medium "+(v.score<2?"text-red-600":v.score<4?"text-yellow-600":"text-green-600"),children:v.label})]}),v.feedback.length>0&&(0,qa.jsx)("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:v.feedback.map((e,t)=>(0,qa.jsxs)("li",{children:["\u2022 ",e]},t))})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("input",{type:m.confirm?"text":"password",value:u,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 pr-10",placeholder:"Confirm new password",required:!0}),(0,qa.jsx)("button",{type:"button",onClick:()=>y("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,qa.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.confirm?(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),u&&i!==u&&(0,qa.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Passwords do not match"})]}),h&&(0,qa.jsx)("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg p-3",children:(0,qa.jsx)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:h})}),(0,qa.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:[(0,qa.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Password Security Tips:"}),(0,qa.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[(0,qa.jsx)("li",{children:"\u2022 Use a unique password for this account"}),(0,qa.jsx)("li",{children:"\u2022 Mix uppercase, lowercase, numbers, and symbols"}),(0,qa.jsx)("li",{children:"\u2022 Avoid personal information or common words"}),(0,qa.jsx)("li",{children:"\u2022 Consider using a password manager"})]})]}),(0,qa.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,qa.jsx)("button",{type:"submit",disabled:d||v.score<3||i!==u,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Changing...":"Change Password"}),(0,qa.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]})]})]})})}):null},xs=()=>{var e,t,n;const{messages:r,sendMessage:a,sendMessageStatusUpdate:s,isConnected:i,loadConversationMessages:l,isLoadingMessages:u,isReconnecting:c,clearMessagesCache:d}=(()=>{const e=(0,o.useContext)(Ya);if(!e)throw new Error("useWebSocket must be used within WebSocketProvider");return e})(),{user:f,logout:h}=Va(),[p,m]=(0,o.useState)(!1),[g,v]=(0,o.useState)(!1),[y,b]=(0,o.useState)(!1),x=(()=>{const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)("groups"),[a,s]=(0,o.useState)(!1),i=(0,o.useCallback)(e=>{t(e),s(!1)},[]),l=(0,o.useCallback)(e=>{r(e)},[]),u=(0,o.useCallback)(()=>{s(e=>!e)},[]);return{selectedConversation:e,activeConversationType:n,isMobileSidebarOpen:a,setSelectedConversation:t,setActiveConversationType:r,setIsMobileSidebarOpen:s,handleConversationSelect:i,handleConversationTypeChange:l,toggleMobileSidebar:u}})(),w=(()=>{const[e,t]=(0,o.useState)(()=>{try{const e=sessionStorage.getItem("cached_conversations");if(e){const t=JSON.parse(e);if(Date.now()-t.timestamp<12e4)return console.log("\ud83d\udce6 Using cached conversations for faster load"),t.data}}catch(a){console.warn("Failed to load cached conversations:",a)}return[]}),[n,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),i=(0,o.useCallback)(async()=>{r(!0),s(null);try{console.log("\ud83d\udd04 Loading conversations...");const e=await ao.conversation.getUserConversations();console.log("\ud83d\udccb Loaded conversations:",e),console.log("\ud83d\udd0d Group conversations:",e.filter(e=>"GROUP"===e.type)),console.log("\ud83d\udd0d Direct conversations:",e.filter(e=>"DIRECT"===e.type));try{sessionStorage.setItem("cached_conversations",JSON.stringify({data:e,timestamp:Date.now()}))}catch(a){console.warn("Failed to cache conversations:",a)}t(e)}catch(e){const n=e instanceof Error?e.message:"Failed to load conversations";s(n),console.error("\u274c Failed to load conversations:",e),t([])}finally{r(!1)}},[]),l=(0,o.useCallback)(e=>{t(t=>t.some(t=>t.id===e.id)?t:[...t,e])},[]),u=(0,o.useCallback)((e,n)=>{t(t=>t.map(t=>t.id===e?{...t,...n}:t))},[]),c=(0,o.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]);return(0,o.useEffect)(()=>{i()},[i]),{conversations:e,isLoading:n,error:a,loadConversations:i,addConversation:l,updateConversation:u,removeConversation:c}})(),k=(e=>{let{messages:t,currentUserId:n,selectedConversationId:r}=e;const[a,s]=(0,o.useState)({}),[i,l]=(0,o.useState)({}),u=(0,o.useRef)(!1),c=(0,o.useRef)(null),d=e=>`chat_last_read_${e}`,f=(0,o.useCallback)(e=>{try{const t=localStorage.getItem(d(e));if(t)return JSON.parse(t)}catch(t){console.warn("Failed to load last read timestamps from localStorage:",t)}return{}},[]),h=(0,o.useCallback)((e,t)=>{try{localStorage.setItem(d(e),JSON.stringify(t))}catch(n){console.warn("Failed to save last read timestamps to localStorage:",n)}},[]),p=(0,o.useCallback)(e=>{if(!n)return 0;const r=i[e],a=r?new Date(r).getTime():0;return t.filter(t=>t.senderId!==n&&(t.conversationId===e&&((!t.readBy||!t.readBy[n])&&new Date(t.timestamp).getTime()>a))).length},[t,n,i]);(0,o.useEffect)(()=>{if(!u.current&&n){console.log("\ud83d\ude80 Initializing last read timestamps for user:",n);const e=f(n);l(e),u.current=!0,console.log("\ud83d\udcda Loaded last read timestamps:",e)}},[n,f]),(0,o.useEffect)(()=>{if(!u.current||!n)return;const e=Array.from(new Set(t.map(e=>e.conversationId))),r={};e.forEach(e=>{const t=p(e);t>0&&(r[e]=t)}),s(r),console.log("\ud83d\udd04 Recalculated unread counts:",r)},[t,i,n,p,u.current]),(0,o.useEffect)(()=>{if(r&&u.current&&n)return s(e=>{const t={...e};return delete t[r],t}),c.current&&(clearTimeout(c.current),c.current=null),c.current=setTimeout(()=>{const e=t.filter(e=>e.conversationId===r);if(e.length>0){const t=e.map(e=>new Date(e.timestamp).getTime()).reduce((e,t)=>Math.max(e,t),0),a={...i,[r]:new Date(t).toISOString()};l(a),h(n,a),console.log("\u2705 Updated last read timestamp for:",r,"to:",new Date(t).toISOString())}c.current=null},1500),()=>{c.current&&(clearTimeout(c.current),c.current=null)}},[r,t,n,i,h]);const m=(0,o.useCallback)(e=>{if(!n)return;s(t=>({...t,[e]:0}));const r=t.filter(t=>t.conversationId===e);if(r.length>0){const t=r.map(e=>new Date(e.timestamp).getTime()).reduce((e,t)=>Math.max(e,t),0),a={...i,[e]:new Date(t).toISOString()};l(a),h(n,a),console.log("\ud83d\udcbe Manually marked conversation as read:",e)}},[n,t,i,h]),g=(0,o.useCallback)(()=>Object.values(a).reduce((e,t)=>e+t,0),[a]),v=(0,o.useCallback)(e=>a[e]||0,[a]);return(0,o.useEffect)(()=>()=>{c.current&&(clearTimeout(c.current),c.current=null),s({}),l({}),u.current=!1},[n]),{unreadCounts:a,markConversationAsRead:m,getTotalUnreadCount:g,getUnreadCount:v}})({messages:r,currentUserId:null===f||void 0===f?void 0:f.id,selectedConversationId:x.selectedConversation}),S=(()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null),u=(0,o.useCallback)(()=>{t(e=>(e&&(r(null),l(null)),!e))},[]),c=(0,o.useCallback)(async(e,t,o)=>{if(console.log("\ud83d\udd0d performSearch called:",{conversationId:e,query:t,filters:o}),console.log("\ud83d\udd0d Current search result state:",n),console.log("\ud83d\udd0d Current loading state:",a),!t.trim())return console.log("\u274c Empty query, clearing search result"),void r(null);if(!e)return console.log("\u274c No conversation selected, cannot search"),void l("Please select a conversation to search");console.log("\ud83d\udd0d Setting loading state to true"),s(!0),l(null);try{console.log("\ud83d\udd04 Calling API search for conversation:",e,"query:",t);const n=await ao.messageSearch.searchMessages(e,t);if(console.log("\u2705 Search API returned:",n.totalCount,"results"),o&&n.messages){let e=n.messages;if(o.sender&&(e=e.filter(e=>e.senderUsername.toLowerCase().includes(o.sender.toLowerCase()))),o.dateFrom){const t=new Date(o.dateFrom);e=e.filter(e=>new Date(e.timestamp)>=t)}if(o.dateTo){const t=new Date(o.dateTo);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.timestamp)<=t)}n.messages=e,n.totalCount=e.length}r(n)}catch(i){console.error("Failed to search messages:",i),l("Failed to search messages. Please try again."),r(null)}finally{s(!1)}},[]),d=(0,o.useCallback)(()=>{r(null),l(null)},[]),f=(0,o.useCallback)(async e=>{if(n&&n.hasMore){s(!0);try{const t=await ao.messageSearch.searchMessages(e,n.query,n.currentPage+1,20);r(e=>e?{...t,messages:[...e.messages,...t.messages]}:t)}catch(t){console.error("Failed to load more results:",t),l("Failed to load more results")}finally{s(!1)}}},[n]),h=(0,o.useCallback)(e=>{console.log("Jump to message:",e),window.dispatchEvent(new CustomEvent("jumpToMessage",{detail:{messageId:e}})),setTimeout(()=>{t(!1),r(null)},100)},[]);return{isSearchMode:e,searchResult:n,isSearchLoading:a,searchError:i,toggleSearchMode:u,performSearch:c,clearSearch:d,loadMoreResults:f,jumpToMessage:h}})(),C=(()=>{const[e,t]=(0,o.useState)(!1),n=(0,o.useCallback)(()=>{t(!0)},[]),r=(0,o.useCallback)(()=>{t(!1)},[]),a=(0,o.useCallback)(async e=>{try{return await ao.user.searchUsers(e)}catch(t){throw console.error("Failed to search users:",t),t}},[]),s=(0,o.useCallback)(async()=>{try{return await ao.user.getUserSuggestions()}catch(e){throw console.error("Failed to get user suggestions:",e),e}},[]),i=(0,o.useCallback)(async(e,t)=>{try{t(await ao.conversation.createDirectConversation(e.id)),r()}catch(n){throw console.error("Failed to create direct conversation:",n),n}},[]);return{isUserSearchModalOpen:e,openUserSearchModal:n,closeUserSearchModal:r,searchUsers:a,getUserSuggestions:s,createDirectConversation:i}})();(0,o.useEffect)(()=>{if(!x.selectedConversation&&w.conversations.length>0){const e=w.conversations.filter(e=>"groups"===x.activeConversationType?"GROUP"===e.type:"DIRECT"===e.type);if(console.log("\ud83d\udd0d Auto-selecting conversation:",{activeType:x.activeConversationType,totalConversations:w.conversations.length,filteredConversations:e.length}),e.length>0){const t=e[0];x.setSelectedConversation(t.id),f&&(console.log("\ud83d\ude80 Preloading messages for first filtered conversation:",t.id,"type:",t.type),l(t.id))}}},[x.selectedConversation,w.conversations,x.activeConversationType,x,f,l]),(0,o.useEffect)(()=>{x.selectedConversation&&f&&l(x.selectedConversation)},[x.selectedConversation,f,l]);const N=(0,o.useMemo)(()=>r.filter(e=>e.conversationId===x.selectedConversation),[r,x.selectedConversation]);(0,o.useEffect)(()=>{if(x.selectedConversation&&f&&N.length>0&&i){const e=setTimeout(()=>{N.filter(e=>{var t;return e.senderId!==f.id&&!(null!==(t=e.readBy)&&void 0!==t&&t[f.id])}).forEach(e=>{console.log(`Marking message ${e.id} as read by user ${f.id}`),s({messageId:e.id,userId:f.id,statusType:"READ",timestamp:(new Date).toISOString()})})},1e3);return()=>clearTimeout(e)}},[x.selectedConversation,N,f,i,s]);const j=async e=>{try{await ao.conversation.deleteConversation(e),w.removeConversation(e),x.selectedConversation===e&&x.setSelectedConversation("")}catch(t){console.error("Failed to delete conversation:",t),alert("Failed to delete conversation: "+(t instanceof Error?t.message:String(t)))}},E=()=>w.conversations.find(e=>e.id===x.selectedConversation),T=()=>{const e=E();return"GROUP"===(null===e||void 0===e?void 0:e.type)},P=e=>{const t=w.conversations.find(t=>t.id===e);if(t){if("DIRECT"===t.type&&t.participants&&t.participants.length>0){if("user"in t.participants[0]){const e=t.participants.find(e=>e.user.id!==(null===f||void 0===f?void 0:f.id));if(e){const t=e.user;return t.displayNameOrUsername||t.displayName||t.username||"Unknown User"}}else{const e=t.participants.find(e=>e.id!==(null===f||void 0===f?void 0:f.id));if(e)return e.displayNameOrUsername||e.displayName||e.username||"Unknown User"}return"Unknown User"}return t.name}return e};return(0,qa.jsxs)("div",{className:"h-screen flex flex-col bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[(0,qa.jsxs)("div",{className:"flex flex-1 relative min-h-0",children:[x.isMobileSidebarOpen&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>x.setIsMobileSidebarOpen(!1)}),(0,qa.jsxs)("div",{className:`\n        fixed lg:relative lg:translate-x-0 z-50 lg:z-0\n        w-80 lg:w-72 xl:w-80 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-r border-gray-200/50 dark:border-gray-700/50 \n        ${x.isMobileSidebarOpen?"h-screen":"h-full"}\n        flex flex-col shadow-lg lg:shadow-none\n        transition-transform duration-300 ease-in-out\n        ${x.isMobileSidebarOpen?"translate-x-0":"-translate-x-full"}\n      `,children:[(0,qa.jsxs)("div",{className:"p-4 border-b border-gray-200/50 dark:border-gray-700 flex-shrink-0 bg-gradient-to-r from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-700",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsxs)("h1",{className:"text-lg lg:text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[(0,qa.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-2 shadow-md",children:(0,qa.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,qa.jsx)("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),(0,qa.jsx)("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]})}),"Chat Platform",(0,qa.jsx)(vs,{className:"ml-2",clickable:!0})]}),(0,qa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qa.jsx)(gs,{}),(0,qa.jsx)("button",{onClick:h,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-white/50 dark:hover:bg-gray-600/50 px-2 py-1 rounded-md transition-colors",children:"Logout"}),(0,qa.jsx)("button",{onClick:()=>x.setIsMobileSidebarOpen(!1),className:"lg:hidden p-1 text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-md transition-colors",children:(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,qa.jsxs)("div",{className:"flex items-center mt-3",children:[(0,qa.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 shadow-sm "+(i?"bg-green-500 animate-pulse":c?"bg-yellow-500 animate-spin":"bg-red-500")}),(0,qa.jsx)("span",{className:"text-sm font-medium "+(i?"text-green-700 dark:text-green-400":c?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:i?"Connected":c?"Reconnecting...":"Disconnected"})]}),f&&(0,qa.jsx)("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-200 bg-white/50 dark:bg-gray-700/50 rounded-lg px-3 py-2",children:(0,qa.jsxs)("div",{className:"flex items-center",children:[(()=>{const e=f.displayName||f.username,t=7*e.charCodeAt(0)%360,n=`hsl(${t}, 75%, 45%)`;return(0,qa.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-semibold mr-2 shadow-sm border border-white/20 dark:border-gray-600/30",style:{background:`linear-gradient(135deg, ${n}, hsl(${t}, 75%, 35%))`},children:e.charAt(0).toUpperCase()})})(),(0,qa.jsxs)("span",{className:"font-medium",children:["Welcome, ",f.displayName||f.username]})]})})]}),(0,qa.jsx)(us,{selectedConversation:x.selectedConversation,onSelectConversation:async e=>{x.handleConversationSelect(e),await l(e),S.clearSearch(),S.isSearchMode&&S.toggleSearchMode()},conversations:w.conversations,activeType:x.activeConversationType,onTypeChange:e=>{x.handleConversationTypeChange(e),S.clearSearch(),S.isSearchMode&&S.toggleSearchMode()},onNewDirectMessage:C.openUserSearchModal,onNewGroup:()=>{m(!0)},unreadCounts:k.unreadCounts,currentUserId:null===f||void 0===f?void 0:f.id,onDeleteConversation:j})]}),(0,qa.jsxs)("div",{className:"flex-1 flex lg:ml-0 min-h-0",children:[(0,qa.jsxs)("div",{className:"flex flex-col transition-all duration-300 min-h-0 "+(S.isSearchMode?"lg:w-1/2":"w-full"),children:[(0,qa.jsx)("div",{className:"p-4 border-b border-gray-200/50 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm overflow-visible",style:{isolation:"auto"},children:(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,qa.jsx)("button",{onClick:()=>x.setIsMobileSidebarOpen(!0),className:"lg:hidden p-2 -ml-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg mr-2 flex-shrink-0 transition-colors",children:(0,qa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,qa.jsx)("div",{className:"min-w-0 flex-1",children:(0,qa.jsxs)("div",{className:"flex items-center",children:[x.selectedConversation&&(()=>{const e=P(x.selectedConversation),t=7*e.charCodeAt(0)%360,n=`hsl(${t}, 75%, 45%)`;return(0,qa.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold mr-3 shadow-md border-2 border-white/20 dark:border-gray-600/30",style:{background:`linear-gradient(135deg, ${n}, hsl(${t}, 75%, 35%))`},children:e.charAt(0).toUpperCase()})})(),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:x.selectedConversation?P(x.selectedConversation):"No conversation selected"}),(0,qa.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[(0,qa.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),N.length," messages"]})]})]})})]}),(0,qa.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0 relative",children:[T()&&(0,qa.jsx)("button",{onClick:()=>v(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md",title:"Group Settings",children:(0,qa.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,qa.jsx)(ds,{isSearchMode:S.isSearchMode,onToggleSearch:S.toggleSearchMode,onSearch:(e,t)=>{console.log("\ud83d\udd0d ChatPage onSearch called:",{query:e,filters:t,selectedConversationId:x.selectedConversation}),x.selectedConversation?S.performSearch(x.selectedConversation,e,t):console.error("\u274c No conversation selected for search")},onClearSearch:S.clearSearch,isLoading:S.isSearchLoading,resultsCount:null===(e=S.searchResult)||void 0===e?void 0:e.totalCount,enableFilters:!0})]})]})}),(0,qa.jsx)("div",{className:"flex-1 min-h-0",children:(0,qa.jsx)(ss,{messages:N,currentUserId:null===f||void 0===f?void 0:f.id,isLoading:u||w.isLoading||!i})}),(0,qa.jsx)("div",{className:"flex-shrink-0 border-t border-gray-200/50 dark:border-gray-700 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:(0,qa.jsx)(is,{onSendMessage:e=>{e.trim()&&f&&x.selectedConversation&&a({conversationId:x.selectedConversation,senderId:f.id,senderUsername:f.displayName||f.username,content:e.trim(),type:oo.TEXT})},disabled:!i||!x.selectedConversation},x.selectedConversation)})]}),S.isSearchMode&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("div",{className:"hidden lg:flex lg:w-1/2 border-l border-gray-200",children:(0,qa.jsx)(fs,{searchResult:S.searchResult,isLoading:S.isSearchLoading,error:S.searchError,onJumpToMessage:S.jumpToMessage,onLoadMore:null!==(t=S.searchResult)&&void 0!==t&&t.hasMore?()=>S.loadMoreResults(x.selectedConversation):void 0,className:"w-full"})}),(0,qa.jsxs)("div",{className:"lg:hidden fixed inset-0 bg-white z-50 flex flex-col",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Search Results"}),(0,qa.jsx)("button",{onClick:S.toggleSearchMode,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,qa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,qa.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,qa.jsx)(fs,{searchResult:S.searchResult,isLoading:S.isSearchLoading,error:S.searchError,onJumpToMessage:e=>{S.jumpToMessage(e),S.toggleSearchMode()},onLoadMore:null!==(n=S.searchResult)&&void 0!==n&&n.hasMore?()=>S.loadMoreResults(x.selectedConversation):void 0,className:"h-full"})})]})]})]}),(0,qa.jsx)(cs,{isOpen:C.isUserSearchModalOpen,onClose:C.closeUserSearchModal,onSelectUser:async e=>{try{await C.createDirectConversation(e,e=>{w.addConversation(e),x.setActiveConversationType("direct"),x.setSelectedConversation(e.id),l(e.id)})}catch(t){console.error("Failed to create direct conversation:",t),alert("Failed to create direct conversation: "+(t instanceof Error?t.message:String(t)))}},searchUsers:C.searchUsers,getUserSuggestions:C.getUserSuggestions,currentUserId:null===f||void 0===f?void 0:f.id}),(0,qa.jsx)(ps,{isOpen:p,onClose:()=>m(!1),onGroupCreated:e=>{w.addConversation(e),x.setActiveConversationType("groups"),x.setSelectedConversation(e.id),l(e.id),m(!1)}}),E()&&T()&&(0,qa.jsx)(ms,{isOpen:g,onClose:()=>v(!1),conversation:E(),userRole:(()=>{const e=E();if(!e||!e.participants||!f)return null;if(e.participants.length>0&&"user"in e.participants[0]){const t=e.participants.find(e=>e.user.id===f.id);return(null===t||void 0===t?void 0:t.role)||null}return null})()||"MEMBER",onGroupUpdated:e=>{w.updateConversation(e.id,e)},onGroupDeleted:()=>{j(E().id),v(!1)}}),(0,qa.jsx)(bs,{isOpen:y,onClose:()=>b(!1),onSuccess:()=>{alert("Password changed successfully!")}})]}),(0,qa.jsx)("div",{className:"flex-shrink-0",children:(0,qa.jsx)(ys,{})})]})},ws=()=>{const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(null),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(!1),[d,f]=(0,o.useState)("");(0,o.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=await ao.get("/api/admin/status");t(e.data)}catch(i){console.error("Failed to check admin status:",i),l("Failed to verify admin status")}};return null!==e&&void 0!==e&&e.isAdmin?(0,qa.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,qa.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[(0,qa.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,qa.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"\ud83d\udee1\ufe0f Admin Database Cleanup"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Safely remove orphaned data from PostgreSQL and MongoDB"}),(0,qa.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:["Admin: ",e.userId]})]}),(0,qa.jsxs)("div",{className:"p-6",children:[(0,qa.jsx)("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-6",children:(0,qa.jsxs)("div",{className:"flex items-start",children:[(0,qa.jsx)("div",{className:"flex-shrink-0",children:(0,qa.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,qa.jsxs)("div",{className:"ml-3",children:[(0,qa.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Critical Operation Warning"}),(0,qa.jsx)("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:"This tool permanently deletes orphaned data. Always preview first and backup your database before executing cleanup."})]})]})}),(0,qa.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,qa.jsx)("button",{onClick:async()=>{s(!0),l(null);try{const e=await ao.get("/api/admin/cleanup/preview");console.log("Cleanup preview response:",e.data),r(e.data.data||e.data)}catch(i){var e,t;console.error("Failed to get cleanup preview:",i),l((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to get cleanup preview")}finally{s(!1)}},disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Loading...":"\ud83d\udd0d Preview Cleanup"}),n&&(0,qa.jsx)("button",{onClick:()=>c(!0),disabled:a,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\ud83d\uddd1\ufe0f Execute Cleanup"}),!1]}),i&&(0,qa.jsx)("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-6",children:(0,qa.jsx)("p",{className:"text-red-800 dark:text-red-200",children:i})}),n&&(0,qa.jsxs)("div",{className:"space-y-6",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Cleanup Report"}),(0,qa.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.dryRun?"\ud83e\uddea Preview Mode":"\u26a0\ufe0f Executed"," - ",new Date(n.timestamp).toLocaleString()]})]}),(0,qa.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,qa.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,qa.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.finalStats.totalUsers}),(0,qa.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Users"})]}),(0,qa.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,qa.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n.finalStats.totalConversations}),(0,qa.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversations"})]}),(0,qa.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,qa.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:n.finalStats.totalParticipants}),(0,qa.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Participants"})]}),(0,qa.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,qa.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n.finalStats.totalMessages}),(0,qa.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Messages"})]})]}),(0,qa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,qa.jsxs)("div",{className:"bg-red-50 dark:bg-red-900 p-4 rounded-lg border border-red-200 dark:border-red-700",children:[(0,qa.jsx)("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"\ud83d\udce8 Orphaned Messages"}),(0,qa.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,qa.jsxs)("div",{className:"text-red-700 dark:text-red-300",children:["Orphaned: ",(0,qa.jsx)("span",{className:"font-bold",children:n.orphanedMessages.orphanedMessagesCount})]}),(0,qa.jsxs)("div",{className:"text-green-700 dark:text-green-300",children:["Healthy: ",(0,qa.jsx)("span",{className:"font-bold",children:n.orphanedMessages.healthyMessagesCount})]}),n.deletionCounts&&(0,qa.jsxs)("div",{className:"text-red-800 dark:text-red-200 font-bold",children:["\u2705 Deleted: ",n.deletionCounts.orphanedMessages]})]})]}),(0,qa.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[(0,qa.jsx)("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"\ud83d\udc65 Orphaned Participants"}),(0,qa.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,qa.jsxs)("div",{className:"text-yellow-700 dark:text-yellow-300",children:["Orphaned: ",(0,qa.jsx)("span",{className:"font-bold",children:n.orphanedParticipants.orphanedParticipantsCount})]}),(0,qa.jsxs)("div",{className:"text-green-700 dark:text-green-300",children:["Healthy: ",(0,qa.jsx)("span",{className:"font-bold",children:n.orphanedParticipants.healthyParticipantsCount})]}),n.deletionCounts&&(0,qa.jsxs)("div",{className:"text-yellow-800 dark:text-yellow-200 font-bold",children:["\u2705 Deleted: ",n.deletionCounts.orphanedParticipants]})]})]}),(0,qa.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg border border-purple-200 dark:border-purple-700",children:[(0,qa.jsx)("h3",{className:"font-semibold text-purple-800 dark:text-purple-200 mb-2",children:"\ud83d\udcac Empty Conversations"}),(0,qa.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,qa.jsxs)("div",{className:"text-purple-700 dark:text-purple-300",children:["Empty: ",(0,qa.jsx)("span",{className:"font-bold",children:n.emptyConversations.emptyConversationsCount})]}),(0,qa.jsxs)("div",{className:"text-green-700 dark:text-green-300",children:["Total: ",(0,qa.jsx)("span",{className:"font-bold",children:n.emptyConversations.totalConversations})]}),n.deletionCounts&&(0,qa.jsxs)("div",{className:"text-purple-800 dark:text-purple-200 font-bold",children:["\u2705 Deleted: ",n.deletionCounts.emptyConversations]})]})]})]})]}),u&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,qa.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4",children:[(0,qa.jsx)("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-4",children:"\u26a0\ufe0f Confirm Database Cleanup"}),(0,qa.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["This will permanently delete orphaned data. Type ",(0,qa.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"DELETE_ORPHANED_DATA"})," to confirm:"]}),(0,qa.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded mb-4 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Type confirmation text"}),(0,qa.jsxs)("div",{className:"flex gap-2",children:[(0,qa.jsx)("button",{onClick:async()=>{if("DELETE_ORPHANED_DATA"===d){s(!0),l(null);try{const e=await ao.post("/api/admin/cleanup/execute",{confirmed:!0,confirmationText:"DELETE_ORPHANED_DATA"});r(e.data),c(!1),f("")}catch(i){var e,t;console.error("Failed to execute cleanup:",i),l((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to execute cleanup")}finally{s(!1)}}else l("Please type the exact confirmation text")},disabled:"DELETE_ORPHANED_DATA"!==d||a,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Executing...":"Execute Cleanup"}),(0,qa.jsx)("button",{onClick:()=>{c(!1),f("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]})]})})]})]})}):(0,qa.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,qa.jsxs)("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg p-4",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-red-800 dark:text-red-200 mb-2",children:"Access Denied"}),(0,qa.jsx)("p",{className:"text-red-600 dark:text-red-300",children:"Admin privileges required to access database cleanup tools."})]})})},ks=()=>(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,qa.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,qa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,qa.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,qa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qa.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"\ud83d\udee1\ufe0f Admin Panel"}),(0,qa.jsx)(_e,{to:"/chat",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm",children:"\u2190 Back to Chat"})]}),(0,qa.jsx)("div",{className:"flex items-center space-x-4",children:(0,qa.jsx)(gs,{})})]})})}),(0,qa.jsx)("main",{className:"py-6",children:(0,qa.jsx)(ws,{})}),(0,qa.jsx)("footer",{className:"mt-12 border-t border-gray-200 dark:border-gray-700 py-6",children:(0,qa.jsx)("div",{className:"max-w-6xl mx-auto px-6 text-center text-sm text-gray-500 dark:text-gray-400",children:(0,qa.jsx)("p",{children:"\u26a0\ufe0f Admin tools - Use with extreme caution"})})})]}),Ss=e=>{let{children:t}=e;const{user:n,isLoading:r}=Va();return r?(0,qa.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,qa.jsx)("div",{className:"text-lg",children:"Loading..."})}):n?(0,qa.jsx)(qa.Fragment,{children:t}):(0,qa.jsx)(ye,{to:"/login",replace:!0})};class Cs extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback||(0,qa.jsx)(Ns,{error:this.state.error}):this.props.children}}const Ns=e=>{let{error:t}=e;return(0,qa.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,qa.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[(0,qa.jsx)("div",{className:"mb-4",children:(0,qa.jsx)("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.502 0L4.312 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,qa.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-4",children:"We encountered an unexpected error. Please try refreshing the page."}),(0,qa.jsxs)("div",{className:"space-y-3",children:[(0,qa.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Refresh Page"}),!1]})]})})},js=Cs,Es=e=>{let{children:t}=e;return(0,qa.jsx)(Cs,{fallback:(0,qa.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chat Unavailable"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-4",children:"Unable to load the chat interface."}),(0,qa.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Retry"})]})}),children:t})},Ts=e=>{let{onDismiss:t}=e;return(0,qa.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:(0,qa.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/50 border border-blue-200 dark:border-blue-700 rounded-lg p-4 shadow-lg",children:(0,qa.jsxs)("div",{className:"flex items-start",children:[(0,qa.jsx)("div",{className:"flex-shrink-0",children:(0,qa.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,qa.jsxs)("div",{className:"ml-3 flex-1",children:[(0,qa.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Security Update Applied"}),(0,qa.jsx)("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:(0,qa.jsx)("p",{children:"We've enhanced the security of your chat platform. For your protection, please log in again to continue using all features."})}),(0,qa.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,qa.jsx)("button",{type:"button",onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},className:"text-sm bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors",children:"Go to Login"}),(0,qa.jsx)("button",{type:"button",onClick:t,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 px-3 py-1.5 transition-colors",children:"Dismiss"})]})]}),(0,qa.jsx)("div",{className:"flex-shrink-0 ml-4",children:(0,qa.jsx)("button",{type:"button",onClick:t,className:"text-blue-400 hover:text-blue-600 transition-colors",children:(0,qa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})})},Ps=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.queryCache=e.queryCache||new ct,this.mutationCache=e.mutationCache||new ft,this.logger=e.logger||Je,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=et.subscribe(()=>{et.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=nt.subscribe(()=>{nt.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[n]=Ae(e,t);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}ensureQueryData(e,t,n){const r=De(e,t,n),a=this.getQueryData(r.queryKey);return a?Promise.resolve(a):this.fetchQuery(r)}getQueriesData(e){return this.getQueryCache().findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.queryCache.find(e),a=function(e,t){return"function"===typeof e?e(t):e}(t,null==r?void 0:r.state.data);if("undefined"===typeof a)return;const o=De(e),s=this.defaultQueryOptions(o);return this.queryCache.build(this,s).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Xe.batch(()=>this.getQueryCache().findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}removeQueries(e,t){const[n]=Ae(e,t),r=this.queryCache;Xe.batch(()=>{r.findAll(n).forEach(e=>{r.remove(e)})})}resetQueries(e,t,n){const[r,a]=Ae(e,t,n),o=this.queryCache,s={type:"active",...r};return Xe.batch(()=>(o.findAll(r).forEach(e=>{e.reset()}),this.refetchQueries(s,a)))}cancelQueries(e,t,n){const[r,a={}]=Ae(e,t,n);"undefined"===typeof a.revert&&(a.revert=!0);const o=Xe.batch(()=>this.queryCache.findAll(r).map(e=>e.cancel(a)));return Promise.all(o).then(Me).catch(Me)}invalidateQueries(e,t,n){const[r,a]=Ae(e,t,n);return Xe.batch(()=>{var e,t;if(this.queryCache.findAll(r).forEach(e=>{e.invalidate()}),"none"===r.refetchType)return Promise.resolve();const n={...r,type:null!=(e=null!=(t=r.refetchType)?t:r.type)?e:"active"};return this.refetchQueries(n,a)})}refetchQueries(e,t,n){const[r,a]=Ae(e,t,n),o=Xe.batch(()=>this.queryCache.findAll(r).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...a,cancelRefetch:null==(t=null==a?void 0:a.cancelRefetch)||t,meta:{refetchPage:r.refetchPage}})}));let s=Promise.all(o).then(Me);return null!=a&&a.throwOnError||(s=s.catch(Me)),s}fetchQuery(e,t,n){const r=De(e,t,n),a=this.defaultQueryOptions(r);"undefined"===typeof a.retry&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(e,t,n){return this.fetchQuery(e,t,n).then(Me).catch(Me)}fetchInfiniteQuery(e,t,n){const r=De(e,t,n);return r.behavior=ht(),this.fetchQuery(r)}prefetchInfiniteQuery(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(Me).catch(Me)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const n=this.queryDefaults.find(t=>ze(e)===ze(t.queryKey));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(t=>Be(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const n=this.mutationDefaults.find(t=>ze(e)===ze(t.mutationKey));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(t=>Be(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Fe(t.queryKey,t)),"undefined"===typeof t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),"undefined"===typeof t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}({defaultOptions:{queries:{staleTime:3e5,retry:3}}}),_s=()=>{const{securityLogout:e,dismissSecurityNotification:t}=Va();return(0,qa.jsx)(js,{children:(0,qa.jsx)(Ja,{children:(0,qa.jsx)(Ee,{children:(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[(0,qa.jsxs)(we,{children:[(0,qa.jsx)(be,{path:"/login",element:(0,qa.jsx)(eo,{})}),(0,qa.jsx)(be,{path:"/chat",element:(0,qa.jsx)(Ss,{children:(0,qa.jsx)(Es,{children:(0,qa.jsx)(xs,{})})})}),(0,qa.jsx)(be,{path:"/admin",element:(0,qa.jsx)(Ss,{children:(0,qa.jsx)(ks,{})})}),(0,qa.jsx)(be,{path:"/",element:(0,qa.jsx)(eo,{})})]}),(0,qa.jsx)(vn,{position:"top-right"}),e&&(0,qa.jsx)(Ts,{onDismiss:t})]})})})})};const Rs=function(){return(0,qa.jsx)(js,{children:(0,qa.jsx)(bt,{client:Ps,children:(0,qa.jsx)(Za,{children:(0,qa.jsx)(js,{children:(0,qa.jsx)(Ga,{children:(0,qa.jsx)(_s,{})})})})})})};i.createRoot(document.getElementById("root")).render((0,qa.jsx)(o.StrictMode,{children:(0,qa.jsx)(Rs,{})}))})();
//# sourceMappingURL=main.6dfe8bff.js.map